import{Q as m,V as x,U as P,X as n,Y as R,Z as q,cG as L,cq as H,c6 as K,_ as Q,a6 as U,cr as W,bc as Y,W as Z,bS as I}from"./main-CzQLl0ZF.js";function te(a,l=166,t=!1){let e;function r(...i){const o=()=>{e=void 0,a.apply(this,i)};!e&&t&&o(),clearTimeout(e),e=setTimeout(o,l)}return r.clear=()=>{clearTimeout(e)},r}const M=m.createContext(null);var A=function(a,l){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t};const $=m.forwardRef((a,l)=>{var t,{className:e,children:r,disabled:i,onClick:o}=a,y=A(a,["className","children","disabled","onClick"]);const{cn:h}=x(),f=P("Search"),v=m.useContext(M);if(v===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:b,variant:s,handleClick:_}=v;return n.createElement(R,Object.assign({type:"submit"},y,{ref:l,size:b,variant:s==="secondary"?"secondary":"primary",className:h("navds-search__button-search",e),disabled:(t=v?.disabled)!==null&&t!==void 0?t:i,onClick:q(o,_),icon:n.createElement(L,Object.assign({},r?{"aria-hidden":!0}:{title:f("search")}))}),r)});var J=function(a,l){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t};const ee=m.forwardRef((a,l)=>{const{inputProps:t,size:e="medium",inputDescriptionId:r,errorId:i,showErrorMsg:o,hasError:y}=H(a,"searchfield"),{className:h,hideLabel:f=!0,label:v,description:b,value:s,clearButtonLabel:_,onClear:g,clearButton:T=!0,children:z,variant:p="primary",defaultValue:E,onChange:C,onSearchClick:S,htmlSize:O}=a,V=J(a,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),{cn:d}=x(),N=m.useRef(null),D=K(N,l),[w,F]=m.useState(E??""),j=c=>{s===void 0&&F(c),C?.(c)},B=c=>{var u,k;g?.(c),j(""),(k=(u=N.current)===null||u===void 0?void 0:u.focus)===null||k===void 0||k.call(u)},G=()=>{S?.(`${s??w}`)},X=T&&!t.disabled&&(s??w);return n.createElement("div",{onKeyDown:c=>{var u;c.key==="Escape"&&(!((u=N.current)===null||u===void 0)&&u.value&&c.preventDefault(),B({trigger:"Escape",event:c}))},className:d(h,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":y,"navds-search--disabled":t.disabled,"navds-search--with-size":O})},n.createElement(Q,{htmlFor:t.id,size:e,className:d("navds-form-field__label",{"navds-sr-only":f})},v),!!b&&n.createElement(U,{className:d("navds-form-field__description",{"navds-sr-only":f}),id:r,size:e,as:"div"},b),n.createElement("div",{className:d("navds-search__wrapper")},n.createElement("div",{className:d("navds-search__wrapper-inner")},p==="simple"&&n.createElement(L,{"aria-hidden":!0,className:d("navds-search__search-icon")}),n.createElement("input",Object.assign({ref:D},W(V,["error","errorId","size","readOnly"]),t,{value:s??w,onChange:c=>j(c.target.value),type:"search",className:d(h,"navds-search__input",`navds-search__input--${p}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},O?{size:Number(O)}:{})),X&&n.createElement(ae,{handleClear:B,size:e,clearButtonLabel:_})),n.createElement(M.Provider,{value:{size:e,disabled:t.disabled,variant:p,handleClick:G}},z||p!=="simple"&&n.createElement($,null))),n.createElement("div",{className:d("navds-form-field__error"),id:i,"aria-relevant":"additions removals","aria-live":"polite"},o&&n.createElement(Y,{size:e,showIcon:!0},a.error)))});function ae({size:a,clearButtonLabel:l,handleClear:t}){const{cn:e}=x(),r=Z(!1),i=P("Search");return r?n.createElement(R,{className:e("navds-search__button-clear"),variant:"tertiary","data-color":"neutral",size:a==="medium"?"small":"xsmall",icon:n.createElement(I,{"aria-hidden":!0}),title:l||i("clear"),onClick:o=>t({trigger:"Click",event:o}),type:"button"}):n.createElement("button",{type:"button",onClick:o=>t({trigger:"Click",event:o}),className:e("navds-search__button-clear")},n.createElement("span",{className:e("navds-sr-only")},l||i("clear")),n.createElement(I,{"aria-hidden":!0}))}ee.Button=$;export{ee as S,te as d};
//# sourceMappingURL=Search-CZzt-l5N.js.map
