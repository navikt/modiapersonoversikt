import{bm as L,N as b,a4 as J,C as r,a3 as W,aM as Y,aS as E,b1 as q,b0 as K,a1 as B,a6 as C,a2 as A,ap as _,Y as D,ar as U,Q as $,bd as H,bq as Q,be as X,bn as Z,O as F,bE as ee,J as te}from"./main-CzQLl0ZF.js";import{a as re,m as R,u as ae,M as se,T as ne}from"./index-uPJYTR8l.js";import{n as G,j as le,k as ie,e as oe,t as de,l as ce,o as me,u as O}from"./utils-COG3OKMv.js";import{P as fe}from"./index-DrUK-MZw.js";import{C as ue,S as V,H as he}from"./index-19PQAOh0.js";import{T as P}from"./Tag-5IOIsu2O.js";import{S as ge}from"./DatePeriodSelector-Cv1FCW6p.js";import{S as pe}from"./PrinterSmall-BSYHFp4S.js";import{G as xe}from"./GuidePanel-BYSkThyc.js";import"./ComboboxProvider-MPM6LIlr.js";import"./Switch-vIniNqOt.js";import"./Search-CZzt-l5N.js";import"./ExternalLink-CCdN-0kK.js";import"./modiapersonoversikt-api-DbMF6k6T.js";import"./index-WL4CcIa-.js";import"./Accordion-DdWJs506.js";import"./index-CyLVgzxc.js";function je(e){const t=b.c(1),{traadId:a}=e,l=q(),n=K();if(l.data.filter(s=>s.fnr===n).map(be).includes(a)){let s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(P,{size:"xsmall",variant:"info",children:"Tildelt meg"}),t[0]=s):s=t[0],s}return null}function be(e){return e.traadId}function Se(e){const t=b.c(3),{traadId:a}=e;let l,n;if(t[0]!==a?(n=Y(s=>s(oe)===a),t[0]=a,t[1]=n):n=t[1],l=n,E(l)){let s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(P,{size:"xsmall",variant:"info",children:"Under arbeid"}),t[2]=s):s=t[2],s}return null}function _e(e){const t=b.c(1),{traad:a}=e;if(ce(a)){let l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(P,{size:"xsmall",variant:"warning",children:"Feilsendt"}),t[0]=l):l=t[0],l}return null}function ye(e){const t=b.c(1),{melding:a}=e;if(a.temagruppe===me.InnholdSlettet){let l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(P,{size:"xsmall",variant:"error",children:"Slettet"}),t[0]=l):l=t[0],l}return null}const ve=L("/new/person/meldinger"),Ie=e=>{const t=b.c(44),{traad:a,handleClick:l}=e;let n,o;t[0]!==a?(n=G(a),o=le(n),t[0]=a,t[1]=n,t[2]=o):(n=t[1],o=t[2]);const s=o;let d;t[3]!==a?(d=ie(a),t[3]=a,t[4]=d):d=t[4];const c=d,u=ve.useSearch().traadId===a.traadId&&"bg-ax-bg-neutral-moderate border-ax-border-neutral-strong";let i;t[5]!==u?(i=J("cursor-pointer hover:bg-[var(--ax-bg-neutral-moderate-hover)] group",u),t[5]=u,t[6]=i):i=t[6];let f;t[7]!==l||t[8]!==a.traadId?(f=()=>l(a.traadId),t[7]=l,t[8]=a.traadId,t[9]=f):f=t[9];let x;t[10]!==c?(x=r.jsx(B,{size:"xsmall",as:"h3",level:"3",children:c}),t[10]=c,t[11]=x):x=t[11];let h;t[12]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsx(C,{size:"small",weight:"semibold",children:"Tema:"}),t[12]=h):h=t[12];const j=a.temagruppe;let g;t[13]!==j?(g=de(j),t[13]=j,t[14]=g):g=t[14];let m;t[15]!==g?(m=r.jsxs(A,{gap:"2",children:[h,r.jsx(C,{size:"small",children:g})]}),t[15]=g,t[16]=m):m=t[16];let S;t[17]!==s?(S=r.jsx(C,{size:"small",textColor:"subtle",children:s}),t[17]=s,t[18]=S):S=t[18];let y;t[19]!==a.traadId?(y=r.jsx(Se,{traadId:a.traadId}),t[19]=a.traadId,t[20]=y):y=t[20];let v;t[21]!==a?(v=r.jsx(_e,{traad:a}),t[21]=a,t[22]=v):v=t[22];let I;t[23]!==n?(I=r.jsx(ye,{melding:n}),t[23]=n,t[24]=I):I=t[24];let k;t[25]!==a.traadId?(k=r.jsx(je,{traadId:a.traadId}),t[25]=a.traadId,t[26]=k):k=t[26];let T;t[27]!==y||t[28]!==v||t[29]!==I||t[30]!==k?(T=r.jsxs(A,{gap:"1",wrap:!0,children:[y,v,I,k]}),t[27]=y,t[28]=v,t[29]=I,t[30]=k,t[31]=T):T=t[31];let w;t[32]!==m||t[33]!==S||t[34]!==T||t[35]!==x?(w=r.jsxs(W.New,{children:[x,m,S,T]}),t[32]=m,t[33]=S,t[34]=T,t[35]=x,t[36]=w):w=t[36];let z;t[37]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsx(_,{justify:"center",children:r.jsx(D,{variant:"tertiary-neutral",size:"small",name:"Åpne","aria-label":"Åpne",icon:r.jsx(ge,{"aria-hidden":!0,className:"translate-x-0 group-hover:translate-x-1 transition-transform"})})}),t[37]=z):z=t[37];let M;t[38]!==w?(M=r.jsxs(A,{justify:"space-between",gap:"2",children:[w,z]}),t[38]=w,t[39]=M):M=t[39];let N;return t[40]!==M||t[41]!==i||t[42]!==f?(N=r.jsx(ue,{"data-testid":"traaditem",padding:"2",className:i,onClick:f,as:"li",children:M}),t[40]=M,t[41]=i,t[42]=f,t[43]=N):N=t[43],N},ke=()=>r.jsxs(_,{minHeight:"0",gap:"2",children:[r.jsx(re,{}),r.jsx(U,{boundaryName:"MeldingerList",children:r.jsx($.Suspense,{fallback:r.jsx(_,{gap:"2",marginInline:"0 2",children:Array(8).keys().map(e=>r.jsx(V,{variant:"rounded",height:68},e))}),children:r.jsx(Te,{})})})]}),Te=()=>{const e=b.c(17),{data:t}=H(),a=E(R);let l,n;e[0]!==t?(n=t.toSorted(Q(we)),e[0]=t,e[1]=n):n=e[1],l=n;const s=O(l,a);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={from:"/new/person/meldinger"},e[2]=d):d=e[2];const c=X(d);let p;e[3]!==c?(p=m=>{c({search:{traadId:m}})},e[3]=c,e[4]=p):p=e[4];const u=p;let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i={from:"/new/person/meldinger",select:Me},e[5]=i):i=e[5];const f=Z(i);if(t.length===0){let m;return e[6]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(F,{variant:"info",children:"Brukeren har ingen dialoger"}),e[6]=m):m=e[6],m}const x=s.length===1?"dialog":"dialoger";let h;e[7]!==s.length||e[8]!==x?(h=r.jsxs(B,{className:"pl-1",size:"xsmall",level:"2",children:[s.length," ",x]}),e[7]=s.length,e[8]=x,e[9]=h):h=e[9];let j;e[10]!==s||e[11]!==u||e[12]!==f?(j=s.length>0&&r.jsx(fe,{paginationSrHeading:{tag:"h3",text:"Trådlistepaginering"},"aria-label":"Tråder",as:"section",selectedKey:f,items:s,keyExtractor:Ae,renderItem:m=>{const{item:S}=m;return r.jsx(Ie,{traad:S,handleClick:u})}}),e[10]=s,e[11]=u,e[12]=f,e[13]=j):j=e[13];let g;return e[14]!==h||e[15]!==j?(g=r.jsxs(r.Fragment,{children:[h,j]}),e[14]=h,e[15]=j,e[16]=g):g=e[16],g};function we(e){return G(e).opprettetDato}function Me(e){return e.traadId}function Ae(e){return e.traadId}const $e=()=>{const e=b.c(11),t=ae(),a=t.printerWrapper,{data:l}=H();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsx(pe,{}),e[0]=n):n=e[0];let o;e[1]!==t?(o=r.jsx(D,{variant:"tertiary",size:"xsmall",icon:n,onClick:()=>t.triggerPrint(),children:"Skriv ut alle"}),e[1]=t,e[2]=o):o=e[2];let s;e[3]!==l?(s=l.map(Fe),e[3]=l,e[4]=s):s=e[4];let d;e[5]!==a||e[6]!==s?(d=r.jsx(a,{children:s}),e[5]=a,e[6]=s,e[7]=d):d=e[7];let c;return e[8]!==o||e[9]!==d?(c=r.jsxs(A,{justify:"end",children:[o,d]}),e[8]=o,e[9]=d,e[10]=c):c=e[10],c},ze=$.memo($e),Ne=()=>{const e=b.c(6);let t,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={xs:1,md:"max-content 1fr"},a={xs:"scroll",md:"hidden"},e[0]=t,e[1]=a):(t=e[0],a=e[1]);let l,n;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={md:"16em"},n={md:"hidden"},e[2]=l,e[3]=n):(l=e[2],n=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsxs(_,{height:"100%",maxWidth:l,overflow:n,children:[r.jsx(U,{boundaryName:"traadlist",children:r.jsxs($.Suspense,{fallback:r.jsx(_,{gap:"2",marginInline:"0 2",children:Array(8).keys().map(Re)}),children:[r.jsx(B,{size:"small",children:"Dialoger"}),r.jsx(ze,{})]})}),r.jsx(ke,{})]}),e[4]=o):o=e[4];let s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsxs(he,{gap:"1",columns:t,overflow:a,children:[o,r.jsx(_,{flexGrow:"1",overflowX:"hidden",className:"min-h-100 md:min-h-0",children:r.jsx(_,{overflowY:{md:"scroll"},children:r.jsx(Ce,{})})})]}),e[5]=s):s=e[5],s},Pe=L("/new/person/meldinger"),Ce=()=>{const e=b.c(15),{data:t}=H(),{traadId:a}=Pe.useSearch(),l=E(R),n=O(t,l);let o;if(e[0]!==n||e[1]!==a){let i;e[3]!==a?(i=f=>f.traadId===a,e[3]=a,e[4]=i):i=e[4],o=n.find(i),e[0]=n,e[1]=a,e[2]=o}else o=e[2];const s=o,d=$.useRef(R);let c,p;if(e[5]!==n||e[6]!==l||e[7]!==s?(c=()=>{const i=JSON.stringify(d.current.init)!==JSON.stringify(l),f=!s||!n.includes(s);i&&f&&ee.clear()},p=[s,n,l],e[5]=n,e[6]=l,e[7]=s,e[8]=c,e[9]=p):(c=e[8],p=e[9]),$.useEffect(c,p),n.length===0){let i;return e[10]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(F,{variant:"info",className:"mt-6",children:"Fant ingen dialoger"}),e[10]=i):i=e[10],i}if(!a){let i;return e[11]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(A,{margin:"4",children:r.jsx(xe,{children:"Velg en tråd fra listen på venstre side for å se detaljer."})}),e[11]=i):i=e[11],i}if(!s){let i;return e[12]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(_,{className:"mt-6",children:r.jsx(F,{variant:"error",children:"Tråden du valgte, ble ikke funnet."})}),e[12]=i):i=e[12],i}let u;return e[13]!==a?(u=r.jsx(ne,{traadId:a}),e[13]=a,e[14]=u):u=e[14],u};function Fe(e){return r.jsx(se,{traad:e},e.traadId)}function Re(e){return r.jsx(V,{variant:"rounded",height:68},e)}const tt=te("/new/person/meldinger")({component:Ee});function Ee(){const e=b.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.jsx(Ne,{}),e[0]=t):t=e[0],t}export{tt as Route};
//# sourceMappingURL=meldinger.lazy-xZQyKqCD.js.map
