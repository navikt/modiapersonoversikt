import{Q as i,R as le,U as Y,W as ce,V as M,X as r,Z as de,bS as ge,cq as Oe,ch as ue,c5 as ee,co as he,a6 as re,_ as me,b8 as ye,c6 as fe,cr as xe,av as Ce,cs as we,bc as _e}from"./main-CzQLl0ZF.js";var Ie=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ee=i.forwardRef((e,s)=>{var{title:o,titleId:t}=e,n=Ie(e,["title","titleId"]);let l=le();return l=o?t||"title-"+l:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),o?i.createElement("title",{id:l},o):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Se=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Fe=i.forwardRef((e,s)=>{var{title:o,titleId:t}=e,n=Se(e,["title","titleId"]);let l=le();return l=o?t||"title-"+l:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),o?i.createElement("title",{id:l},o):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Le=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Re=i.forwardRef((e,s)=>{var{title:o,titleId:t}=e,n=Le(e,["title","titleId"]);let l=le();return l=o?t||"title-"+l:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),o?i.createElement("title",{id:l},o):null,i.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),pe=e=>{const s=i.useRef(e);return i.useEffect(()=>{s.current=e},[e]),s.current};var Pe=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ne=i.forwardRef((e,s)=>{var{children:o,variant:t,onDelete:n,className:l,onClick:b,type:p="button","data-color":O}=e,u=Pe(e,["children","variant","onDelete","className","onClick","type","data-color"]);const c=Y("Chips"),d=ce(!1),{cn:m}=M();let x;return d?x=t:x=t??"action",r.createElement("button",Object.assign({"data-color":O??Me(x)},u,{ref:s,type:p,className:m("navds-chips__chip navds-chips__removable navds-chips--icon-right",l,{[`navds-chips__removable--${x}`]:x}),"aria-label":`${o} ${c("Removable.labelSuffix")}`,onClick:de(b,n)}),r.createElement("span",{className:m("navds-chips__chip-text")},o),r.createElement("span",{className:m("navds-chips__removable-icon")},r.createElement(ge,{"aria-hidden":!0})))});function Me(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var je=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Te=i.forwardRef((e,s)=>{var{className:o,children:t,selected:n,variant:l,checkmark:b=!0,as:p="button","data-color":O}=e,u=je(e,["className","children","selected","variant","checkmark","as","data-color"]);const{cn:c}=M(),d=ce(!1);let m;return d?m=l:m=l??"action",r.createElement(p,Object.assign({"data-color":O??ke(m)},u,{ref:s,className:c("navds-chips__chip navds-chips__toggle",o,{"navds-chips__toggle--with-checkmark":b,[`navds-chips__toggle--${m}`]:m}),"aria-pressed":n,"data-pressed":n}),b&&r.createElement("svg",{"aria-hidden":!0,className:c("navds-chips__toggle-icon"),width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))"})),r.createElement("span",{className:c("navds-chips__chip-text")},t))});function ke(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var Ae=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Q=i.forwardRef((e,s)=>{var{className:o,size:t="medium",children:n}=e,l=Ae(e,["className","size","children"]);const{cn:b}=M();return r.createElement("ul",Object.assign({},l,{ref:s,className:b("navds-chips",o,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),r.Children.map(n,(p,O)=>r.createElement("li",{key:p?.toString()||O},p)))});Q.Toggle=Te;Q.Removable=Ne;const[De,j]=ee({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),Be=({children:e,value:s})=>{const{defaultValue:o="",description:t,disabled:n,readOnly:l,error:b,errorId:p,id:O,value:u,onChange:c,onClear:d,shouldAutocomplete:m,size:x}=s,f=Oe({description:t,disabled:n,readOnly:l,error:b,errorId:p,id:O,size:x},"comboboxfield"),g=i.useRef(null),y=i.useRef(null),[a,v]=i.useState(o),[_,E]=i.useState(!1),F=i.useMemo(()=>String(u??a),[u,a]),[T,P]=i.useState(F),N=i.useCallback(C=>{u??v(C),P(C),c?.(C)},[u,c]),k=i.useCallback(C=>{d?.(C),c?.(""),v(""),P("")},[c,d]),I=i.useCallback(()=>{var C,R;(R=(C=g.current)===null||C===void 0?void 0:C.focus)===null||R===void 0||R.call(C)},[]);ue(()=>{var C,R;m&&g&&F!==T&&((R=(C=g.current)===null||C===void 0?void 0:C.setSelectionRange)===null||R===void 0||R.call(C,T.length,F.length))},[F,T,m]);const L=Object.assign(Object.assign({},f),{clearInput:k,error:b,focusInput:I,inputRef:g,value:F,setValue:v,onChange:N,searchTerm:T,setSearchTerm:P,shouldAutocomplete:m,toggleOpenButtonRef:y,hideCaret:_,setHideCaret:E});return r.createElement(De,Object.assign({},L),e)},Ve=({children:e,className:s,hasError:o,inputProps:t,inputSize:n,toggleIsListOpen:l})=>{const{cn:b}=M(),{toggleOpenButtonRef:p,clearInput:O,readOnly:u}=j(),c=i.useRef(null),[d,m]=i.useState(!1);function x(g){var y;!(!((y=c.current)===null||y===void 0)&&y.contains(g.relatedTarget))&&p?.current!==g.target&&m(!0)}function f(g){var y;!((y=c.current)===null||y===void 0)&&y.contains(g.relatedTarget)||(l(!1),m(!1),O(g))}return r.createElement("div",{ref:c,className:b(s,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":o,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":d,"navds-combobox--readonly":u,"navds-form-field--readonly":u}),onFocus:x,onBlur:f},e)},z=(e,s)=>typeof e=="string"?s.some(o=>o.label===e||o.value===e):s.some(o=>o.label===e.label&&o.value===e.value),ae=e=>({label:e,value:e}),se=e=>e?.map(s=>typeof s=="string"?ae(s):s),[$e,ve]=ee({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),ze=({children:e,value:s})=>{const[o,t]=i.useState([]),{focusInput:n}=j(),{isMultiSelect:l}=s,b=i.useCallback(u=>{t(c=>c.filter(d=>d.label!==u.label)),n()},[n]),p=i.useCallback(u=>{t(l?c=>[...c,u]:[u]),n()},[n,l]),O={customOptions:o,removeCustomOption:b,addCustomOption:p,setCustomOptions:t};return r.createElement($e,Object.assign({},O),e)},[Ue,U]=ee(),He=({children:e,value:s})=>{const{clearInput:o,focusInput:t,setHideCaret:n}=j(),{customOptions:l,removeCustomOption:b,addCustomOption:p,setCustomOptions:O}=ve(),{allowNewValues:u,isMultiSelect:c,selectedOptions:d,onToggleSelected:m,options:x,maxSelected:f}=s,[g,y]=i.useState([]),a=i.useMemo(()=>d??[...l,...g],[l,d,g]),v=i.useCallback(I=>{const L=!z(I,x);L?(u&&p(I),!c&&y([])):c?y(C=>[...C,I]):(y([I]),O([])),m?.(I.value,!0,L)},[p,u,c,m,x,O]),_=i.useCallback(I=>{const L=z(I,l);L?b(I):y(C=>C.filter(R=>R!==I)),m?.(I.value,!1,L)},[l,m,b]),E=typeof f=="object"?f.limit:f,F=!!E&&a.length>=E,T=F||!c&&a.length>0;i.useEffect(()=>{n(T)},[T,a,n]);const P=i.useCallback((I,L)=>{if(z(I.value,a))_(I);else{if(c&&F)return;v(I)}o(L),t()},[v,o,t,_,a,F,c]),N=pe(a),k={addSelectedOption:v,isMultiSelect:c,removeSelectedOption:_,prevSelectedOptions:N,selectedOptions:a,setSelectedOptions:y,toggleOption:P,maxSelected:{limit:E,isLimitReached:F}};return r.createElement(Ue,Object.assign({},k),e)},J=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",be=(e,s)=>J(s).includes(J(e??"")),We=(e,s)=>s.filter(o=>be(e,o.label)),Ze=(e,s)=>s.find(o=>J(o.label).startsWith(e.toLocaleLowerCase())),Ke=e=>`${e}-filtered-options`,Xe=(e,s)=>`${e}-option-${s}`.replace(/\s/g,"-").toLocaleLowerCase(),qe=e=>`${e}-combobox-new-option`,Qe=e=>`${e}-is-loading`,Ge=e=>`${e}-no-hits`,Je=e=>`${e}-max-selected-options`,S={normalizeText:J,isPartOfText:be,getMatchingValuesFromList:We,getFilteredOptionsId:Ke,getAddNewOptionId:qe,getOptionId:Xe,getIsLoadingId:Qe,getNoHitsId:Ge,getMaxSelectedOptionsId:Je,getFirstValueStartingWith:Ze},Ye=e=>{const[s,o]=i.useState(void 0),t=()=>{var a;return Array.from((a=e?.children)!==null&&a!==void 0?a:[])},n=()=>t().filter(a=>a.getAttribute("data-no-focus")!=="true"),l=a=>t().find(v=>v.id===a),b=()=>s?n().indexOf(s)===0:!1,p=()=>{const a=n();return s?a.indexOf(s)===a.length-1:!1},O=a=>{var v;o(a),(v=a?.scrollIntoView)===null||v===void 0||v.call(a,{block:"nearest"})};return{activeElement:s,getElementById:l,isFocusOnTheTop:b,isFocusOnTheBottom:p,moveFocusUp:()=>{if(!s)return;const a=n(),v=a.indexOf(s),_=a[v-1];v===0?o(void 0):O(_)},moveFocusDown:()=>{const a=n();if(!s){O(a[0]);return}const v=a.indexOf(s);v!==a.length-1&&O(a[v+1])},moveFocusToElement:a=>{const v=n().find(_=>_.getAttribute("id")===a);v&&o(v)},moveFocusToTop:()=>{const a=n();O(a[0])},moveFocusToBottom:()=>{const a=n();O(a[a.length-1])},moveFocusUpBy:a=>{if(!s)return;const v=n(),_=v.indexOf(s),E=Math.max(_-a,0);O(v[E])},moveFocusDownBy:a=>{const v=n(),_=s?v.indexOf(s):-1,E=Math.min(_+a,v.length-1);O(v[E])},resetFocus:()=>o(void 0)}},[et,K]=ee({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),tt=({children:e,value:s})=>{const{allowNewValues:o,filteredOptions:t,isListOpen:n,isLoading:l,options:b}=s,[p,O]=i.useState(null),u=Ye(p),{inputProps:{"aria-describedby":c,id:d,disabled:m},readOnly:x,value:f,searchTerm:g,setValue:y,setSearchTerm:a,shouldAutocomplete:v,setHideCaret:_}=j(),{maxSelected:E}=U(),[F,T]=i.useState(!1),{customOptions:P}=ve(),N=i.useMemo(()=>{if(t)return t;const w=[...P,...b];return S.getMatchingValuesFromList(g,w)},[P,t,b,g]),k=pe(g),[I,L]=i.useState(!1),C=i.useMemo(()=>{const w=Object.assign({[S.getAddNewOptionId(d)]:o?ae(f):void 0},P.reduce((H,W)=>{const h=S.getOptionId(d,W.value);return H[h]=W,H},{}));return b.reduce((H,W)=>{const h=S.getOptionId(d,W.value);return H[h]=W,H},w)},[o,P,d,b,f]);ue(()=>{var w;const $=(w=S.getFirstValueStartingWith(g,N))===null||w===void 0?void 0:w.label;v&&$&&(k?.length||0)<g.length&&y(`${g}${$.substring(g.length)}`)},[N,k,g,a,y,v]);const R=i.useMemo(()=>n??F,[n,F]),A=i.useCallback(w=>{m||x||(u.resetFocus(),(w??!F)&&_(E.isLimitReached),T($=>w??!$))},[u,E.isLimitReached,F,_,m,x]),V=i.useMemo(()=>!!g&&!C[S.getOptionId(d,g)],[C,d,g]),te=i.useMemo(()=>{let w="";!l&&N.length===0&&!o?w=S.getNoHitsId(d):(f||l)&&(v&&N[0]?w=S.getOptionId(d,N[0].value):R&&l&&(w=S.getIsLoadingId(d)));const $=E.isLimitReached&&S.getMaxSelectedOptionsId(d);return he(w,$,c)||void 0},[R,l,E.isLimitReached,f,c,v,N,d,o]),G=i.useMemo(()=>{var w;return C[((w=u.activeElement)===null||w===void 0?void 0:w.getAttribute("id"))||-1]},[C,u]),D={activeDecendantId:i.useMemo(()=>{var w;return((w=u.activeElement)===null||w===void 0?void 0:w.getAttribute("id"))||void 0},[u.activeElement]),allowNewValues:o,setFilteredOptionsRef:O,shouldAutocomplete:v,isListOpen:R,isLoading:l,filteredOptions:N,isMouseLastUsedInputDevice:I,setIsMouseLastUsedInputDevice:L,isValueNew:V,toggleIsListOpen:A,currentOption:G,virtualFocus:u,ariaDescribedBy:te};return r.createElement(et,Object.assign({},D),e)},nt=()=>{const{cn:e}=M(),{inputProps:{id:s},size:o,searchTerm:t}=j(),{setIsMouseLastUsedInputDevice:n,toggleIsListOpen:l,activeDecendantId:b,virtualFocus:p}=K(),{isMultiSelect:O,selectedOptions:u,toggleOption:c}=U(),d=Y("Combobox");return r.createElement("li",{tabIndex:-1,onMouseMove:()=>{b!==S.getAddNewOptionId(s)&&(p.moveFocusToElement(S.getAddNewOptionId(s)),n(!0))},onPointerUp:m=>{c(ae(t),m),!O&&!z(t,u)&&l(!1)},id:S.getAddNewOptionId(s),className:e("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":b===S.getAddNewOptionId(s)}),role:"option","aria-selected":!1},r.createElement(Re,{"aria-hidden":!0}),r.createElement(re,{size:o},d("addOption")," ",r.createElement(me,{as:"span",size:o},"“",t,"”")))},ot=(e,s)=>{const o=e.toLowerCase().indexOf(s.toLowerCase()),t=e.substring(0,o),n=e.substring(o,o+s.length),l=e.substring(o+s.length);return[t,n,l]},st=({option:e})=>{const{cn:s}=M(),{inputProps:{id:o},size:t,searchTerm:n}=j(),{setIsMouseLastUsedInputDevice:l,toggleIsListOpen:b,activeDecendantId:p,virtualFocus:O}=K(),{isMultiSelect:u,maxSelected:c,selectedOptions:d,toggleOption:m}=U(),[x,f,g]=ot(e.label,n),y=_=>c.isLimitReached&&!z(_.value,d),a=S.getOptionId(o,e.value),v=p===a;return r.createElement("li",{className:s("navds-combobox__list-item",{"navds-combobox__list-item--focus":v,"navds-combobox__list-item--selected":z(e.value,d)}),"data-no-focus":y(e)||void 0,id:a,key:a,tabIndex:-1,onMouseMove:()=>{v||(O.moveFocusToElement(a),l(!0))},onPointerUp:_=>{y(e)||(m(e,_),!u&&!z(e.value,d)&&b(!1))},role:"option","aria-selected":z(e.value,d),"aria-disabled":y(e)||void 0},r.createElement(re,{size:t,"aria-label":e.label},x,f&&r.createElement("mark",null,f),g),z(e.value,d)&&r.createElement(Ee,null))},lt=()=>{const{inputProps:{id:e}}=j(),{cn:s}=M(),o=Y("Combobox");return r.createElement("div",{className:s("navds-combobox__list-item--loading"),id:S.getIsLoadingId(e)},r.createElement(ye,{title:o("loading")}))},rt=()=>{const{cn:e}=M(),{inputProps:{id:s}}=j(),{maxSelected:o,selectedOptions:t}=U(),n=Y("Combobox");return r.createElement("div",{className:e("navds-combobox__list-item--max-selected"),id:S.getMaxSelectedOptionsId(s)},n("maxSelected",{selected:t.length,limit:o.limit||0}))},at=()=>{const{cn:e}=M(),{inputProps:{id:s}}=j();return r.createElement("div",{className:e("navds-combobox__list-item--no-options"),id:S.getNoHitsId(s)},"Ingen søketreff")},it=()=>{const{cn:e}=M(),{inputProps:{id:s}}=j(),{allowNewValues:o,isLoading:t,isListOpen:n,filteredOptions:l,setFilteredOptionsRef:b,isMouseLastUsedInputDevice:p,isValueNew:O}=K(),{maxSelected:u,isMultiSelect:c}=U(),d=c&&u.limit||t||!t&&l.length===0&&!o,m=o&&O&&!u.isLimitReached||l.length>0;return r.createElement("div",{className:e("navds-combobox__list",{"navds-combobox__list--closed":!n,"navds-combobox__list--with-hover":p}),id:S.getFilteredOptionsId(s),tabIndex:-1},d&&r.createElement("div",{className:e("navds-combobox__list_non-selectables"),role:"status"},c&&u.limit&&r.createElement(rt,null),t&&r.createElement(lt,null),!t&&l.length===0&&!o&&r.createElement(at,null)),m&&r.createElement("ul",{ref:b,role:"listbox",className:e("navds-combobox__list-options")},O&&!u.isLimitReached&&o&&r.createElement(nt,null),l.map(x=>r.createElement(st,{key:x.value,option:x}))))},ct=({option:e})=>{const{cn:s}=M(),{isMultiSelect:o,removeSelectedOption:t}=U(),{focusInput:n,readOnly:l,inputProps:b}=j();return o?l||b.disabled?r.createElement(Q.Toggle,{"data-color":"neutral",variant:"neutral",checkmark:!1,as:"div"},e.label):r.createElement(Q.Removable,{onClick:p=>{p.stopPropagation(),t(e),n()}},e.label):r.createElement("div",{className:s("navds-combobox__selected-options--no-bg")},e.label)},dt=({selectedOptions:e=[],size:s,children:o})=>{const{cn:t}=M(),{value:n}=j(),{isMultiSelect:l}=U();return r.createElement(Q,{className:t("navds-combobox__selected-options"),size:s,"data-type":l?"multiple":"single"},n.length===0||l&&e.length?e.map((b,p)=>r.createElement(ct,{key:b.label+p,option:b})):[],o)};var ut=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const ie=i.forwardRef((e,s)=>{var{inputClassName:o,shouldShowSelectedOptions:t,placeholder:n,onBlur:l}=e,b=ut(e,["inputClassName","shouldShowSelectedOptions","placeholder","onBlur"]);const{cn:p}=M(),O=i.useRef(null),u=fe(s,O),{clearInput:c,inputProps:d,onChange:m,size:x,value:f,searchTerm:g,setValue:y,hideCaret:a,setHideCaret:v,readOnly:_}=j(),{selectedOptions:E,removeSelectedOption:F,toggleOption:T,isMultiSelect:P,maxSelected:N}=U(),{activeDecendantId:k,allowNewValues:I,currentOption:L,filteredOptions:C,isValueNew:R,toggleIsListOpen:A,isListOpen:V,ariaDescribedBy:te,setIsMouseLastUsedInputDevice:G,shouldAutocomplete:X,virtualFocus:D}=K(),w=i.useCallback(h=>{var B;const ne=Z=>E.some(oe=>oe.label.toLocaleLowerCase()===Z.toLocaleLowerCase());if(L)h.preventDefault(),T(L,h),!P&&!ne(L.label)&&A(!1);else if(ne(f))h.preventDefault(),c(h);else if((I||X)&&f!==""){h.preventDefault();const Z=S.getFirstValueStartingWith(f,C),oe=S.normalizeText(f)===S.normalizeText((B=Z?.label)!==null&&B!==void 0?B:"");let q;if(X&&Z&&oe?q=Z:I&&R&&(q={label:f,value:f}),!q)return;T(q,h),!P&&!ne(q.label)&&A(!1)}},[I,c,L,C,P,R,E,X,A,T,f]),$=h=>{switch(h.preventDefault(),h.key){case"Enter":case"Accept":w(h);break}},H=i.useCallback(h=>{if(G(!1),!_)if(h.key==="Backspace"){if(f===""&&t){const B=E[E.length-1];B&&F(B)}}else h.key==="Enter"||h.key==="Accept"?(k||f)&&h.preventDefault():h.key==="Escape"?(V||f)&&(h.preventDefault(),c(h),A(!1)):["ArrowLeft","ArrowRight"].includes(h.key)?f!==""&&f!==g&&m(f):h.key==="ArrowDown"?(f!==g&&y(g),V?D.moveFocusDown():(A(!0),setTimeout(D.moveFocusDown,0))):h.key==="ArrowUp"?(f!==""&&f!==g&&m(f),V&&k&&(h.preventDefault(),D.isFocusOnTheTop()&&A(!1),D.moveFocusUp())):h.key==="Home"?(h.preventDefault(),D.moveFocusToTop()):h.key==="End"?(h.preventDefault(),V?D.moveFocusToBottom():(A(!0),setTimeout(D.moveFocusToBottom,0))):h.key==="PageUp"?(h.preventDefault(),D.moveFocusUpBy(6)):h.key==="PageDown"&&(h.preventDefault(),V?D.moveFocusDownBy(6):(A(!0),setTimeout(()=>D.moveFocusDownBy(6),0)))},[f,E,F,V,k,G,c,A,m,D,y,g,t,_]),W=i.useCallback(h=>{const B=h.target.value;B&&B!==""?A(!0):C.length===0&&A(!1),m(B)},[C.length,m,A]);return r.createElement("input",Object.assign({},b,xe(d,["aria-invalid"]),{ref:u,type:"text",role:"combobox",value:f,onBlur:de(l,D.resetFocus),onClick:()=>{v(N.isLimitReached),f!==g&&m(f)},onInput:W,onKeyUp:$,onKeyDown:H,autoComplete:"off",placeholder:E.length?void 0:n,className:p(o,"navds-combobox__input","navds-body-short",`navds-body-short--${x}`,{"navds-combobox__input--hide-caret":a}),"aria-controls":S.getFilteredOptionsId(d.id),"aria-expanded":!!V,"aria-autocomplete":X?"both":"list","aria-activedescendant":k,"aria-describedby":te,"aria-invalid":d["aria-invalid"],readOnly:_}))}),mt=i.forwardRef((e,s)=>{const{cn:o}=M(),{isListOpen:t,toggleIsListOpen:n}=K(),{focusInput:l}=j();return r.createElement("div",{ref:s,onClick:()=>{n(),l()},className:o("navds-combobox__button-toggle-list"),"aria-hidden":!0},t?r.createElement(Fe,null):r.createElement(Ce,null))});var ft=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const pt=i.forwardRef((e,s)=>{const{clearButton:o,clearButtonLabel:t,toggleListButton:n=!0,inputClassName:l,shouldShowSelectedOptions:b=!0}=e,p=ft(e,["clearButton","clearButtonLabel","toggleListButton","inputClassName","shouldShowSelectedOptions"]),{cn:O}=M(),{focusInput:u,inputProps:c,size:d="medium",inputRef:m,toggleOpenButtonRef:x,readOnly:f}=j(),{activeDecendantId:g,toggleIsListOpen:y}=K(),{selectedOptions:a}=U(),v=fe(m,s);return r.createElement("div",{className:O("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":g!==void 0}),onClick:()=>{c.disabled||f||(y(!0),u())}},b?r.createElement(dt,{selectedOptions:a,size:d},r.createElement(ie,Object.assign({id:c.id,ref:v,inputClassName:l,shouldShowSelectedOptions:b,readOnly:f},p))):r.createElement(ie,Object.assign({id:c.id,ref:v,inputClassName:l,readOnly:f},p)),n&&r.createElement(mt,{ref:x}))});var vt=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const bt=i.forwardRef((e,s)=>{const{className:o,hideLabel:t=!1,description:n,label:l}=e,b=vt(e,["className","hideLabel","description","label"]),{cn:p}=M(),{toggleIsListOpen:O}=K(),{error:u,errorId:c,hasError:d,inputDescriptionId:m,inputProps:x,showErrorMsg:f,size:g="medium",readOnly:y}=j();return r.createElement(Ve,{className:o,hasError:d,inputProps:x,inputSize:g,toggleIsListOpen:O},r.createElement(me,{htmlFor:x.id,size:g,className:p("navds-form-field__label",{"navds-sr-only":t})},y&&r.createElement(we,null),l),!!n&&r.createElement(re,{as:"div",className:p("navds-form-field__description",{"navds-sr-only":t}),id:m,size:g},n),r.createElement("div",{className:p("navds-combobox__wrapper")},r.createElement(pt,Object.assign({ref:s},b)),r.createElement(it,null)),r.createElement("div",{className:p("navds-form-field__error"),id:c,"aria-relevant":"additions removals","aria-live":"polite"},f&&r.createElement(_e,{size:g,showIcon:!0},u)))});var gt=function(e,s){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const ht=i.forwardRef((e,s)=>{const{allowNewValues:o=!1,children:t,defaultValue:n,disabled:l,readOnly:b,error:p,errorId:O,filteredOptions:u,id:c,isListOpen:d,isLoading:m=!1,isMultiSelect:x,onToggleSelected:f,selectedOptions:g,maxSelected:y,options:a,value:v,onChange:_,onClear:E,shouldAutocomplete:F,size:T}=e,P=gt(e,["allowNewValues","children","defaultValue","disabled","readOnly","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),N=se(a)||[],k=se(u),I=se(g),L=typeof navigator>"u"?"":navigator.userAgent,R=!(L.includes("Android")&&L.includes("Firefox/"))&&F;return r.createElement(Be,{value:{defaultValue:n,description:P.description,disabled:l,readOnly:b,error:p,errorId:O,id:c,value:v,onChange:_,onClear:E,shouldAutocomplete:R,size:T}},r.createElement(ze,{value:{isMultiSelect:x}},r.createElement(He,{value:{allowNewValues:o,isMultiSelect:x,selectedOptions:I,maxSelected:y,onToggleSelected:f,options:N}},r.createElement(tt,{value:{allowNewValues:o,filteredOptions:k,isListOpen:d,isLoading:m,options:N}},r.createElement(bt,Object.assign({ref:s},P),t)))))});export{ht as C,Ee as S,Fe as a,Re as b};
//# sourceMappingURL=ComboboxProvider-MPM6LIlr.js.map
