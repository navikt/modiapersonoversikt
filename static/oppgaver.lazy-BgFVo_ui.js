import{bm as $,N as _,C as s,ar as G,Q as A,aS as B,bC as J,O as H,a2 as S,ap as h,bD as U,bA as K,a1 as D,a6 as z,Y as M,be as Q,bn as W,J as Y}from"./main-CzQLl0ZF.js";import{T as q,O as X}from"./index-uPJYTR8l.js";import{u as T,o as Z,g as E,O as ee}from"./utils-LiO40nVZ.js";import{S as P,C as te,H as se}from"./index-19PQAOh0.js";import{G as L}from"./GuidePanel-BYSkThyc.js";import{S as ae}from"./DatePeriodSelector-Cv1FCW6p.js";import{P as le}from"./index-DrUK-MZw.js";import"./utils-COG3OKMv.js";import"./Search-CZzt-l5N.js";import"./modiapersonoversikt-api-DbMF6k6T.js";import"./ComboboxProvider-MPM6LIlr.js";import"./Switch-vIniNqOt.js";import"./ExternalLink-CCdN-0kK.js";import"./index-WL4CcIa-.js";import"./Accordion-DdWJs506.js";import"./index-CyLVgzxc.js";import"./PrinterSmall-BSYHFp4S.js";const re=$("/new/person/oppgaver"),ie=()=>{const e=_.c(21),{id:t}=re.useSearch(),a=T();let p;if(e[0]!==t||e[1]!==a){let l;e[3]!==t?(l=f=>E(f)===t,e[3]=t,e[4]=l):l=e[4],p=a.find(l),e[0]=t,e[1]=a,e[2]=p}else p=e[2];const r=p,i=B(Z),m=A.useRef(i);let d,g;if(e[5]!==i||e[6]!==a||e[7]!==r?(d=()=>{const l=JSON.stringify(m.current)!==JSON.stringify(i),f=!r||!a.includes(r);(l&&f||f)&&J.clear()},g=[r,a,i],e[5]=i,e[6]=a,e[7]=r,e[8]=d,e[9]=g):(d=e[8],g=e[9]),A.useEffect(d,g),!a.length){let l;return e[10]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(H,{className:"mt-2",variant:"info",children:"Fant ingen oppgaver"}),e[10]=l):l=e[10],l}if(!t){let l;return e[11]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(S,{margin:"4",children:s.jsx(L,{children:"Velg en oppgave fra listen på venstre side for å se detaljer."})}),e[11]=l):l=e[11],l}if(!r){let l;return e[12]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(S,{flexGrow:"1",minHeight:"0",className:"",children:s.jsx(H,{variant:"error",children:"Oppgaven du valgte, ble ikke funnet."})}),e[12]=l):l=e[12],l}let o;e[13]!==r?(o=s.jsx(X,{oppgave:r}),e[13]=r,e[14]=o):o=e[14];let n;e[15]!==r.oppgaveId||e[16]!==r.traadId?(n=r.traadId?s.jsx(q,{traadId:r.traadId,valgtOppgaveId:r.oppgaveId}):s.jsx(L,{children:"Det er ingen dialog knyttet til oppgaven."}),e[15]=r.oppgaveId,e[16]=r.traadId,e[17]=n):n=e[17];let c;return e[18]!==o||e[19]!==n?(c=s.jsxs(h,{gap:"4",children:[o,n]}),e[18]=o,e[19]=n,e[20]=c):c=e[20],c},oe=()=>{const e=_.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(G,{boundaryName:"oppgaveDetaljer",children:s.jsx(A.Suspense,{fallback:s.jsx(P,{variant:"rounded",height:"200"}),children:s.jsx(ie,{})})}),e[0]=t):t=e[0],t},ne=$("/new/person/oppgaver"),pe=e=>{const t=_.c(35),{oppgave:a,handleClick:p}=e,{data:r}=U();let i,m;if(t[0]!==r||t[1]!==a.oppgavetype||t[2]!==a.tema){let N;t[5]!==a.tema?(N=R=>R.kode===a.tema,t[5]=a.tema,t[6]=N):N=t[6],m=r.find(N);const V=m?.oppgavetyper??[];let F;t[7]!==a.oppgavetype?(F=R=>R.kode===a.oppgavetype,t[7]=a.oppgavetype,t[8]=F):F=t[8],i=V.find(F),t[0]=r,t[1]=a.oppgavetype,t[2]=a.tema,t[3]=i,t[4]=m}else i=t[3],m=t[4];const d=i,g=ne.useSearch().id;let o;t[9]!==a?(o=E(a),t[9]=a,t[10]=o):o=t[10];const n=o,c=`cursor-pointer hover:hover:bg-ax-bg-neutral-moderate-hover group
                ${g===n?"bg-ax-bg-neutral-moderate ":""}`;let l;t[11]!==p||t[12]!==n?(l=()=>p(n),t[11]=p,t[12]=n,t[13]=l):l=t[13];const f=m?.tekst??"Ukjent tema";let v;t[14]!==f?(v=s.jsx(D,{size:"xsmall",as:"h3",level:"3",children:f}),t[14]=f,t[15]=v):v=t[15];let k;t[16]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(z,{size:"small",weight:"semibold",children:"Oppgavetype:"}),t[16]=k):k=t[16];const C=d?.tekst??"Ukjent oppgavetype";let x;t[17]!==C?(x=s.jsxs(S,{gap:"2",children:[k,s.jsx(z,{size:"small",children:C})]}),t[17]=C,t[18]=x):x=t[18];let O;t[19]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(z,{size:"small",weight:"semibold",children:"Forfallsdato:"}),t[19]=O):O=t[19];let u;t[20]!==a.fristFerdigstillelse?(u=a.fristFerdigstillelse?K(a.fristFerdigstillelse):"",t[20]=a.fristFerdigstillelse,t[21]=u):u=t[21];let j;t[22]!==u?(j=s.jsxs(S,{gap:"2",children:[O,s.jsx(z,{size:"small",children:u})]}),t[22]=u,t[23]=j):j=t[23];let y;t[24]!==j||t[25]!==v||t[26]!==x?(y=s.jsxs(h,{justify:"center",gap:"1",children:[v,x,j]}),t[24]=j,t[25]=v,t[26]=x,t[27]=y):y=t[27];let w;t[28]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(M,{variant:"tertiary-neutral",size:"small",name:"Åpne","aria-label":"Åpne",icon:s.jsx(ae,{"aria-hidden":!0,className:"translate-x-0 group-hover:translate-x-1 transition-transform"})}),t[28]=w):w=t[28];let b;t[29]!==y?(b=s.jsxs(S,{justify:"space-between",gap:"1",wrap:!1,children:[y,w]}),t[29]=y,t[30]=b):b=t[30];let I;return t[31]!==b||t[32]!==c||t[33]!==l?(I=s.jsx(te,{padding:"2",className:c,onClick:l,as:"li",children:b}),t[31]=b,t[32]=c,t[33]=l,t[34]=I):I=t[34],I},ce=()=>s.jsxs(h,{minHeight:"0",gap:"2",children:[s.jsx(ee,{}),s.jsx(G,{boundaryName:"oppgaverList",children:s.jsx(A.Suspense,{fallback:s.jsx(h,{gap:"2",marginInline:"0 2",children:Array(8).keys().map(e=>s.jsx(P,{variant:"rounded",height:68,width:"100%"},e))}),children:s.jsx(me,{})})})]}),me=()=>{const e=_.c(14),t=T();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={from:"/new/person/oppgaver"},e[0]=a):a=e[0];const p=Q(a);let r;e[1]!==p?(r=l=>{p({search:{id:l}})},e[1]=p,e[2]=r):r=e[2];const i=r;let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m={from:"/new/person/oppgaver",select:de},e[3]=m):m=e[3];const d=W(m),g=t.length===1?"oppgave":"oppgaver";let o;e[4]!==t.length||e[5]!==g?(o=s.jsxs(D,{className:"pl-1",size:"xsmall",level:"2",children:[t.length," ",g]}),e[4]=t.length,e[5]=g,e[6]=o):o=e[6];let n;e[7]!==i||e[8]!==t||e[9]!==d?(n=t.length>0&&s.jsx(le,{selectedKey:d,items:t,keyExtractor:E,renderItem:l=>{const{item:f}=l;return s.jsx(pe,{oppgave:f,handleClick:i})}}),e[7]=i,e[8]=t,e[9]=d,e[10]=n):n=e[10];let c;return e[11]!==o||e[12]!==n?(c=s.jsxs(s.Fragment,{children:[o,n]}),e[11]=o,e[12]=n,e[13]=c):c=e[13],c};function de(e){return e.id}const ge=()=>{const e=_.c(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={xs:1,md:"max-content 1fr"},e[0]=t):t=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={xs:"scroll",md:"hidden"},e[1]=a):a=e[1];let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsxs(h,{height:"100%",gap:"1",width:"100%",maxWidth:{md:"16em"},overflow:{md:"hidden"},children:[s.jsx(D,{size:"small",children:"Oppgaver"}),s.jsx(ce,{})]}),e[2]=p):p=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r={xs:"hidden",md:"scroll"},e[3]=r):r=e[3];let i;return e[4]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs(se,{gap:"1",columns:t,height:"100%",width:"100%",overflow:a,children:[p,s.jsx(h,{className:"min-h-100 md:min-h-0",overflow:r,children:s.jsx(h,{minHeight:"0",className:"mt-6",children:s.jsx(oe,{})})})]}),e[4]=i):i=e[4],i},Ae=Y("/new/person/oppgaver")({component:ge});export{Ae as Route};
//# sourceMappingURL=oppgaver.lazy-BgFVo_ui.js.map
