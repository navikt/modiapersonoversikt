{"version":3,"file":"ComboboxProvider-MPM6LIlr.js","sources":["../../node_modules/.pnpm/@navikt+aksel-icons@7.25.1/node_modules/@navikt/aksel-icons/dist/react/esm/Checkmark.js","../../node_modules/.pnpm/@navikt+aksel-icons@7.25.1/node_modules/@navikt/aksel-icons/dist/react/esm/ChevronUp.js","../../node_modules/.pnpm/@navikt+aksel-icons@7.25.1/node_modules/@navikt/aksel-icons/dist/react/esm/Plus.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/util/hooks/usePrevious.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/chips/Removable.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/chips/Toggle.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/chips/Chips.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/Input/Input.context.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/ComboboxWrapper.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/combobox-utils.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/customOptionsContext.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/SelectedOptions/selectedOptionsContext.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/filtered-options-util.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/useVirtualFocus.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/filteredOptionsContext.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/AddNewOption.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/FilteredOptionsItem.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/LoadingMessage.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/MaxSelectedMessage.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/NoSearchHitsMessage.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/FilteredOptions/FilteredOptions.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/SelectedOptions/SelectedOptions.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/Input/Input.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/Input/ToggleListButton.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/Input/InputController.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/Combobox.js","../../node_modules/.pnpm/@navikt+ds-react@7.24.0_@types+react@19.1.8_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@navikt/ds-react/esm/form/combobox/ComboboxProvider.js"],"sourcesContent":["\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nimport { useId } from \"./util/useId.js\";\nconst SvgCheckmark = forwardRef((_a, ref) => {\n    var { title, titleId: _titleId } = _a, props = __rest(_a, [\"title\", \"titleId\"]);\n    let titleId = useId();\n    titleId = title ? _titleId ? _titleId : \"title-\" + titleId : undefined;\n    return React.createElement(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: \"1em\", height: \"1em\", fill: \"none\", viewBox: \"0 0 24 24\", focusable: false, role: \"img\", ref: ref, \"aria-labelledby\": titleId }, props),\n        title ? React.createElement(\"title\", { id: titleId }, title) : null,\n        React.createElement(\"path\", { fill: \"currentColor\", fillRule: \"evenodd\", d: \"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939\", clipRule: \"evenodd\" }));\n});\nexport default SvgCheckmark;\n//# sourceMappingURL=Checkmark.js.map","\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nimport { useId } from \"./util/useId.js\";\nconst SvgChevronUp = forwardRef((_a, ref) => {\n    var { title, titleId: _titleId } = _a, props = __rest(_a, [\"title\", \"titleId\"]);\n    let titleId = useId();\n    titleId = title ? _titleId ? _titleId : \"title-\" + titleId : undefined;\n    return React.createElement(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: \"1em\", height: \"1em\", fill: \"none\", viewBox: \"0 0 24 24\", focusable: false, role: \"img\", ref: ref, \"aria-labelledby\": titleId }, props),\n        title ? React.createElement(\"title\", { id: titleId }, title) : null,\n        React.createElement(\"path\", { fill: \"currentColor\", fillRule: \"evenodd\", d: \"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z\", clipRule: \"evenodd\" }));\n});\nexport default SvgChevronUp;\n//# sourceMappingURL=ChevronUp.js.map","\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nimport { useId } from \"./util/useId.js\";\nconst SvgPlus = forwardRef((_a, ref) => {\n    var { title, titleId: _titleId } = _a, props = __rest(_a, [\"title\", \"titleId\"]);\n    let titleId = useId();\n    titleId = title ? _titleId ? _titleId : \"title-\" + titleId : undefined;\n    return React.createElement(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: \"1em\", height: \"1em\", fill: \"none\", viewBox: \"0 0 24 24\", focusable: false, role: \"img\", ref: ref, \"aria-labelledby\": titleId }, props),\n        title ? React.createElement(\"title\", { id: titleId }, title) : null,\n        React.createElement(\"path\", { fill: \"currentColor\", d: \"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z\" }));\n});\nexport default SvgPlus;\n//# sourceMappingURL=Plus.js.map","import { useEffect, useRef } from \"react\";\n/*\n * usePrevious hook\n * The ref object's \"current\" property is mutable and when changed wont re-render the component\n * meaning it can be used to stay \"one render behind\" the current state\n * https://usehooks.com/usePrevious/\n * https://blog.logrocket.com/accessing-previous-props-state-react-hooks/\n */\nexport const usePrevious = (value) => {\n    const ref = useRef(value);\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n    return ref.current;\n};\n//# sourceMappingURL=usePrevious.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from \"react\";\nimport { XMarkIcon } from \"@navikt/aksel-icons\";\nimport { useRenameCSS, useThemeInternal } from \"../theme/Theme.js\";\nimport { composeEventHandlers } from \"../util/composeEventHandlers.js\";\nimport { useI18n } from \"../util/i18n/i18n.hooks.js\";\nexport const RemovableChips = forwardRef((_a, ref) => {\n    var { children, variant, onDelete, className, onClick, type = \"button\", \"data-color\": color } = _a, rest = __rest(_a, [\"children\", \"variant\", \"onDelete\", \"className\", \"onClick\", \"type\", \"data-color\"]);\n    const translate = useI18n(\"Chips\");\n    const themeContext = useThemeInternal(false);\n    const { cn } = useRenameCSS();\n    let localVariant;\n    if (themeContext) {\n        localVariant = variant;\n    }\n    else {\n        localVariant = variant !== null && variant !== void 0 ? variant : \"action\";\n    }\n    return (React.createElement(\"button\", Object.assign({ \"data-color\": color !== null && color !== void 0 ? color : variantToColor(localVariant) }, rest, { ref: ref, type: type, className: cn(\"navds-chips__chip navds-chips__removable navds-chips--icon-right\", className, {\n            [`navds-chips__removable--${localVariant}`]: localVariant,\n        }), \"aria-label\": `${children} ${translate(\"Removable.labelSuffix\")}`, onClick: composeEventHandlers(onClick, onDelete) }),\n        React.createElement(\"span\", { className: cn(\"navds-chips__chip-text\") }, children),\n        React.createElement(\"span\", { className: cn(\"navds-chips__removable-icon\") },\n            React.createElement(XMarkIcon, { \"aria-hidden\": true }))));\n});\nfunction variantToColor(variant) {\n    switch (variant) {\n        case \"action\":\n            return \"accent\";\n        case \"neutral\":\n            return \"neutral\";\n        default:\n            return undefined;\n    }\n}\nexport default RemovableChips;\n//# sourceMappingURL=Removable.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from \"react\";\nimport { useRenameCSS, useThemeInternal } from \"../theme/Theme.js\";\nexport const ToggleChips = forwardRef((_a, ref) => {\n    var { className, children, selected, variant, checkmark = true, as: Component = \"button\", \"data-color\": color } = _a, rest = __rest(_a, [\"className\", \"children\", \"selected\", \"variant\", \"checkmark\", \"as\", \"data-color\"]);\n    const { cn } = useRenameCSS();\n    const themeContext = useThemeInternal(false);\n    let localVariant;\n    if (themeContext) {\n        localVariant = variant;\n    }\n    else {\n        localVariant = variant !== null && variant !== void 0 ? variant : \"action\";\n    }\n    return (React.createElement(Component, Object.assign({ \"data-color\": color !== null && color !== void 0 ? color : variantToColor(localVariant) }, rest, { ref: ref, className: cn(\"navds-chips__chip navds-chips__toggle\", className, {\n            \"navds-chips__toggle--with-checkmark\": checkmark,\n            [`navds-chips__toggle--${localVariant}`]: localVariant,\n        }), \"aria-pressed\": selected, \"data-pressed\": selected }),\n        checkmark && (React.createElement(\"svg\", { \"aria-hidden\": true, className: cn(\"navds-chips__toggle-icon\"), width: \"1.25em\", height: \"1.25em\", viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, role: \"img\" }, selected ? (React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z\", fill: \"currentColor\" })) : (React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z\", \n            /* After removing old fallbacks, change to currentColor */\n            fill: \"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))\" })))),\n        React.createElement(\"span\", { className: cn(\"navds-chips__chip-text\") }, children)));\n});\nfunction variantToColor(variant) {\n    switch (variant) {\n        case \"action\":\n            return \"accent\";\n        case \"neutral\":\n            return \"neutral\";\n        default:\n            return undefined;\n    }\n}\nexport default ToggleChips;\n//# sourceMappingURL=Toggle.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from \"react\";\nimport { useRenameCSS } from \"../theme/Theme.js\";\nimport RemovableChips from \"./Removable.js\";\nimport ToggleChips from \"./Toggle.js\";\n/**\n * A component that displays a list of items as chips.\n *\n * @see [📝 Documentation](https://aksel.nav.no/komponenter/core/chips)\n * @see 🏷️ {@link ChipsProps}\n *\n * @example\n * ```jsx\n      <Chips size=\"small\">\n        {options.map((c) => (\n          <Chips.Toggle\n            selected={selected.includes(c)}\n            key={c}\n            onClick={() =>\n              setSelected(\n                selected.includes(c)\n                  ? selected.filter((x) => x !== c)\n                  : [...selected, c]\n              )\n            }\n          >\n            {c}\n          </Chips.Toggle>\n        ))}\n      </Chips>\n * ```\n */\nexport const Chips = forwardRef((_a, ref) => {\n    var { className, size = \"medium\", children } = _a, rest = __rest(_a, [\"className\", \"size\", \"children\"]);\n    const { cn } = useRenameCSS();\n    return (React.createElement(\"ul\", Object.assign({}, rest, { ref: ref, className: cn(\"navds-chips\", className, `navds-chips--${size}`, {\n            \"navds-body-short navds-body-short--small\": size === \"medium\",\n            \"navds-detail navds-detail--small\": size === \"small\",\n        }) }), React.Children.map(children, (chip, index) => {\n        return React.createElement(\"li\", { key: (chip === null || chip === void 0 ? void 0 : chip.toString()) || index }, chip);\n    })));\n});\nChips.Toggle = ToggleChips;\nChips.Removable = RemovableChips;\nexport default Chips;\n//# sourceMappingURL=Chips.js.map","import React, { useCallback, useMemo, useRef, useState } from \"react\";\nimport { createContext } from \"../../../util/create-context.js\";\nimport { useClientLayoutEffect } from \"../../../util/hooks/index.js\";\nimport { useFormField } from \"../../useFormField.js\";\nconst [InputContextProvider, useInputContext] = createContext({\n    name: \"InputContext\",\n    errorMessage: \"useInputContext must be used within an InputContextProvider\",\n});\nconst InputProvider = ({ children, value: props }) => {\n    const { defaultValue = \"\", description, disabled, readOnly, error, errorId, id: externalId, value: externalValue, onChange: externalOnChange, onClear, shouldAutocomplete, size, } = props;\n    const formFieldProps = useFormField({\n        description,\n        disabled,\n        readOnly,\n        error,\n        errorId,\n        id: externalId,\n        size,\n    }, \"comboboxfield\");\n    const inputRef = useRef(null);\n    const toggleOpenButtonRef = useRef(null);\n    const [internalValue, setInternalValue] = useState(defaultValue);\n    const [hideCaret, setHideCaret] = useState(false);\n    const value = useMemo(() => String(externalValue !== null && externalValue !== void 0 ? externalValue : internalValue), [externalValue, internalValue]);\n    const [searchTerm, setSearchTerm] = useState(value);\n    const onChange = useCallback((newValue) => {\n        externalValue !== null && externalValue !== void 0 ? externalValue : setInternalValue(newValue);\n        setSearchTerm(newValue);\n        externalOnChange === null || externalOnChange === void 0 ? void 0 : externalOnChange(newValue);\n    }, [externalValue, externalOnChange]);\n    const clearInput = useCallback((event) => {\n        onClear === null || onClear === void 0 ? void 0 : onClear(event);\n        externalOnChange === null || externalOnChange === void 0 ? void 0 : externalOnChange(\"\");\n        setInternalValue(\"\");\n        setSearchTerm(\"\");\n    }, [externalOnChange, onClear]);\n    const focusInput = useCallback(() => {\n        var _a, _b;\n        (_b = (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }, []);\n    useClientLayoutEffect(() => {\n        var _a, _b;\n        if (shouldAutocomplete && inputRef && value !== searchTerm) {\n            (_b = (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.setSelectionRange) === null || _b === void 0 ? void 0 : _b.call(_a, searchTerm.length, value.length);\n        }\n    }, [value, searchTerm, shouldAutocomplete]);\n    const contextValue = Object.assign(Object.assign({}, formFieldProps), { clearInput,\n        error,\n        focusInput,\n        inputRef,\n        value, setValue: setInternalValue, onChange,\n        searchTerm,\n        setSearchTerm,\n        shouldAutocomplete,\n        toggleOpenButtonRef,\n        hideCaret,\n        setHideCaret });\n    return (React.createElement(InputContextProvider, Object.assign({}, contextValue), children));\n};\nexport { InputProvider as InputContextProvider, useInputContext };\n//# sourceMappingURL=Input.context.js.map","import React, { useRef, useState } from \"react\";\nimport { useRenameCSS } from \"../../theme/Theme.js\";\nimport { useInputContext } from \"./Input/Input.context.js\";\nconst ComboboxWrapper = ({ children, className, hasError, inputProps, inputSize, toggleIsListOpen, }) => {\n    const { cn } = useRenameCSS();\n    const { toggleOpenButtonRef, clearInput, readOnly } = useInputContext();\n    const wrapperRef = useRef(null);\n    const [hasFocusWithin, setHasFocusWithin] = useState(false);\n    function onFocusInsideWrapper(event) {\n        var _a;\n        if (!((_a = wrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget)) &&\n            (toggleOpenButtonRef === null || toggleOpenButtonRef === void 0 ? void 0 : toggleOpenButtonRef.current) !== event.target) {\n            setHasFocusWithin(true);\n        }\n    }\n    function onBlurWrapper(event) {\n        var _a;\n        if (!((_a = wrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n            toggleIsListOpen(false);\n            setHasFocusWithin(false);\n            clearInput(event);\n        }\n    }\n    return (React.createElement(\"div\", { ref: wrapperRef, className: cn(className, \"navds-form-field\", `navds-form-field--${inputSize}`, {\n            \"navds-combobox--error\": hasError,\n            \"navds-combobox--disabled\": !!inputProps.disabled,\n            \"navds-combobox--focused\": hasFocusWithin,\n            \"navds-combobox--readonly\": readOnly,\n            \"navds-form-field--readonly\": readOnly,\n        }), onFocus: onFocusInsideWrapper, onBlur: onBlurWrapper }, children));\n};\nexport default ComboboxWrapper;\n//# sourceMappingURL=ComboboxWrapper.js.map","/**\n *\n * @param option ComboboxOption will be compared by both label and value, while a string option is checked if it matches either the label or value in the list.\n * @param list\n */\nconst isInList = (option, list) => {\n    if (typeof option === \"string\") {\n        return list.some((listItem) => listItem.label === option || listItem.value === option);\n    }\n    return list.some((listItem) => listItem.label === option.label && listItem.value === option.value);\n};\nconst toComboboxOption = (value) => ({\n    label: value,\n    value,\n});\nconst mapToComboboxOptionArray = (options) => {\n    return options === null || options === void 0 ? void 0 : options.map((option) => typeof option === \"string\" ? toComboboxOption(option) : option);\n};\nexport { isInList, mapToComboboxOptionArray, toComboboxOption };\n//# sourceMappingURL=combobox-utils.js.map","import React, { useCallback, useState } from \"react\";\nimport { createContext } from \"../../util/create-context.js\";\nimport { useInputContext } from \"./Input/Input.context.js\";\nconst [ComboboxCustomOptionsProvider, useComboboxCustomOptions] = createContext({\n    name: \"ComboboxCustomOptions\",\n    errorMessage: \"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider\",\n});\nconst CustomOptionsProvider = ({ children, value, }) => {\n    const [customOptions, setCustomOptions] = useState([]);\n    const { focusInput } = useInputContext();\n    const { isMultiSelect } = value;\n    const removeCustomOption = useCallback((option) => {\n        setCustomOptions((prevCustomOptions) => prevCustomOptions.filter((o) => o.label !== option.label));\n        focusInput();\n    }, [focusInput]);\n    const addCustomOption = useCallback((option) => {\n        if (isMultiSelect) {\n            setCustomOptions((prevOptions) => [...prevOptions, option]);\n        }\n        else {\n            setCustomOptions([option]);\n        }\n        focusInput();\n    }, [focusInput, isMultiSelect]);\n    const customOptionsState = {\n        customOptions,\n        removeCustomOption,\n        addCustomOption,\n        setCustomOptions,\n    };\n    return (React.createElement(ComboboxCustomOptionsProvider, Object.assign({}, customOptionsState), children));\n};\nexport { CustomOptionsProvider, useComboboxCustomOptions };\n//# sourceMappingURL=customOptionsContext.js.map","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { createContext } from \"../../../util/create-context.js\";\nimport { usePrevious } from \"../../../util/hooks/index.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { isInList } from \"../combobox-utils.js\";\nimport { useComboboxCustomOptions } from \"../customOptionsContext.js\";\nconst [SelectedOptionsContextProvider, useSelectedOptionsContext] = createContext();\nconst SelectedOptionsProvider = ({ children, value, }) => {\n    const { clearInput, focusInput, setHideCaret } = useInputContext();\n    const { customOptions, removeCustomOption, addCustomOption, setCustomOptions, } = useComboboxCustomOptions();\n    const { allowNewValues, isMultiSelect, selectedOptions: externalSelectedOptions, onToggleSelected, options, maxSelected, } = value;\n    const [internalSelectedOptions, setSelectedOptions] = useState([]);\n    const selectedOptions = useMemo(() => externalSelectedOptions !== null && externalSelectedOptions !== void 0 ? externalSelectedOptions : [...customOptions, ...internalSelectedOptions], [customOptions, externalSelectedOptions, internalSelectedOptions]);\n    const addSelectedOption = useCallback((option) => {\n        const isCustomOption = !isInList(option, options);\n        if (isCustomOption) {\n            allowNewValues && addCustomOption(option);\n            !isMultiSelect && setSelectedOptions([]);\n        }\n        else if (isMultiSelect) {\n            setSelectedOptions((oldSelectedOptions) => [\n                ...oldSelectedOptions,\n                option,\n            ]);\n        }\n        else {\n            setSelectedOptions([option]);\n            setCustomOptions([]);\n        }\n        onToggleSelected === null || onToggleSelected === void 0 ? void 0 : onToggleSelected(option.value, true, isCustomOption);\n    }, [\n        addCustomOption,\n        allowNewValues,\n        isMultiSelect,\n        onToggleSelected,\n        options,\n        setCustomOptions,\n    ]);\n    const removeSelectedOption = useCallback((option) => {\n        const isCustomOption = isInList(option, customOptions);\n        if (isCustomOption) {\n            removeCustomOption(option);\n        }\n        else {\n            setSelectedOptions((oldSelectedOptions) => oldSelectedOptions.filter((selectedOption) => selectedOption !== option));\n        }\n        onToggleSelected === null || onToggleSelected === void 0 ? void 0 : onToggleSelected(option.value, false, isCustomOption);\n    }, [customOptions, onToggleSelected, removeCustomOption]);\n    const maxSelectedLimit = typeof maxSelected === \"object\" ? maxSelected.limit : maxSelected;\n    const isLimitReached = !!maxSelectedLimit && selectedOptions.length >= maxSelectedLimit;\n    const newHideCaret = isLimitReached || (!isMultiSelect && selectedOptions.length > 0);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: We explicitly want to run this effect when selectedOptions changes to match the view with the selected options.\n    useEffect(() => {\n        setHideCaret(newHideCaret);\n    }, [newHideCaret, selectedOptions, setHideCaret]);\n    const toggleOption = useCallback((option, event) => {\n        if (isInList(option.value, selectedOptions)) {\n            removeSelectedOption(option);\n        }\n        else if (isMultiSelect && isLimitReached) {\n            return;\n        }\n        else {\n            addSelectedOption(option);\n        }\n        clearInput(event);\n        focusInput();\n    }, [\n        addSelectedOption,\n        clearInput,\n        focusInput,\n        removeSelectedOption,\n        selectedOptions,\n        isLimitReached,\n        isMultiSelect,\n    ]);\n    const prevSelectedOptions = usePrevious(selectedOptions);\n    const selectedOptionsState = {\n        addSelectedOption,\n        isMultiSelect,\n        removeSelectedOption,\n        prevSelectedOptions,\n        selectedOptions,\n        setSelectedOptions,\n        toggleOption,\n        maxSelected: {\n            limit: maxSelectedLimit,\n            isLimitReached,\n        },\n    };\n    return (React.createElement(SelectedOptionsContextProvider, Object.assign({}, selectedOptionsState), children));\n};\nexport { SelectedOptionsProvider, useSelectedOptionsContext };\n//# sourceMappingURL=selectedOptionsContext.js.map","const normalizeText = (text) => typeof text === \"string\" ? text.toLocaleLowerCase().trim() : \"\";\nconst isPartOfText = (value, text) => normalizeText(text).includes(normalizeText(value !== null && value !== void 0 ? value : \"\"));\nconst getMatchingValuesFromList = (value, list) => list.filter((listItem) => isPartOfText(value, listItem.label));\nconst getFirstValueStartingWith = (text, list) => {\n    return list.find((listItem) => normalizeText(listItem.label).startsWith(text.toLocaleLowerCase()));\n};\nconst getFilteredOptionsId = (comboboxId) => `${comboboxId}-filtered-options`;\nconst getOptionId = (comboboxId, option) => `${comboboxId}-option-${option}`.replace(/\\s/g, \"-\").toLocaleLowerCase();\nconst getAddNewOptionId = (comboboxId) => `${comboboxId}-combobox-new-option`;\nconst getIsLoadingId = (comboboxId) => `${comboboxId}-is-loading`;\nconst getNoHitsId = (comboboxId) => `${comboboxId}-no-hits`;\nconst getMaxSelectedOptionsId = (comboboxId) => `${comboboxId}-max-selected-options`;\nexport default {\n    normalizeText,\n    isPartOfText,\n    getMatchingValuesFromList,\n    getFilteredOptionsId,\n    getAddNewOptionId,\n    getOptionId,\n    getIsLoadingId,\n    getNoHitsId,\n    getMaxSelectedOptionsId,\n    getFirstValueStartingWith,\n};\n//# sourceMappingURL=filtered-options-util.js.map","import { useState } from \"react\";\nconst useVirtualFocus = (containerRef) => {\n    const [activeElement, setActiveElement] = useState(undefined);\n    const getListOfAllChildren = () => { var _a; return Array.from((_a = containerRef === null || containerRef === void 0 ? void 0 : containerRef.children) !== null && _a !== void 0 ? _a : []); };\n    const getElementsAbleToReceiveFocus = () => getListOfAllChildren().filter((child) => child.getAttribute(\"data-no-focus\") !== \"true\");\n    const getElementById = (id) => getListOfAllChildren().find((element) => element.id === id);\n    const isFocusOnTheTop = () => activeElement\n        ? getElementsAbleToReceiveFocus().indexOf(activeElement) === 0\n        : false;\n    const isFocusOnTheBottom = () => {\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        return activeElement\n            ? elementsAbleToReceiveFocus.indexOf(activeElement) ===\n                elementsAbleToReceiveFocus.length - 1\n            : false;\n    };\n    const setActiveAndScrollToElement = (element) => {\n        var _a;\n        setActiveElement(element);\n        (_a = element === null || element === void 0 ? void 0 : element.scrollIntoView) === null || _a === void 0 ? void 0 : _a.call(element, { block: \"nearest\" });\n    };\n    const moveFocusUp = () => {\n        if (!activeElement) {\n            return;\n        }\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        const _currentIndex = elementsAbleToReceiveFocus.indexOf(activeElement);\n        const elementAbove = elementsAbleToReceiveFocus[_currentIndex - 1];\n        if (_currentIndex === 0) {\n            setActiveElement(undefined);\n        }\n        else {\n            setActiveAndScrollToElement(elementAbove);\n        }\n    };\n    const moveFocusDown = () => {\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        if (!activeElement) {\n            setActiveAndScrollToElement(elementsAbleToReceiveFocus[0]);\n            return;\n        }\n        const _currentIndex = elementsAbleToReceiveFocus.indexOf(activeElement);\n        if (_currentIndex === elementsAbleToReceiveFocus.length - 1) {\n            return;\n        }\n        setActiveAndScrollToElement(elementsAbleToReceiveFocus[_currentIndex + 1]);\n    };\n    const resetFocus = () => setActiveElement(undefined);\n    const moveFocusToTop = () => {\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        setActiveAndScrollToElement(elementsAbleToReceiveFocus[0]);\n    };\n    const moveFocusToBottom = () => {\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        setActiveAndScrollToElement(elementsAbleToReceiveFocus[elementsAbleToReceiveFocus.length - 1]);\n    };\n    const moveFocusToElement = (id) => {\n        const _element = getElementsAbleToReceiveFocus().find((_focusableElement) => _focusableElement.getAttribute(\"id\") === id);\n        if (_element) {\n            setActiveElement(_element);\n        }\n    };\n    const moveFocusUpBy = (numberOfElements) => {\n        if (!activeElement) {\n            return;\n        }\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        const currentIndex = elementsAbleToReceiveFocus.indexOf(activeElement);\n        const newIndex = Math.max(currentIndex - numberOfElements, 0);\n        setActiveAndScrollToElement(elementsAbleToReceiveFocus[newIndex]);\n    };\n    const moveFocusDownBy = (numberOfElements) => {\n        const elementsAbleToReceiveFocus = getElementsAbleToReceiveFocus();\n        const currentIndex = activeElement\n            ? elementsAbleToReceiveFocus.indexOf(activeElement)\n            : -1;\n        const newIndex = Math.min(currentIndex + numberOfElements, elementsAbleToReceiveFocus.length - 1);\n        setActiveAndScrollToElement(elementsAbleToReceiveFocus[newIndex]);\n    };\n    return {\n        activeElement,\n        getElementById,\n        isFocusOnTheTop,\n        isFocusOnTheBottom,\n        moveFocusUp,\n        moveFocusDown,\n        moveFocusToElement,\n        moveFocusToTop,\n        moveFocusToBottom,\n        moveFocusUpBy,\n        moveFocusDownBy,\n        resetFocus,\n    };\n};\nexport default useVirtualFocus;\n//# sourceMappingURL=useVirtualFocus.js.map","import cl from \"clsx\";\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { createContext } from \"../../../util/create-context.js\";\nimport { useClientLayoutEffect, usePrevious } from \"../../../util/hooks/index.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport { toComboboxOption } from \"../combobox-utils.js\";\nimport { useComboboxCustomOptions } from \"../customOptionsContext.js\";\nimport filteredOptionsUtils from \"./filtered-options-util.js\";\nimport useVirtualFocus from \"./useVirtualFocus.js\";\nconst [FilteredOptionsContextProvider, useFilteredOptionsContext] = createContext({\n    name: \"FilteredOptionsContext\",\n    errorMessage: \"useFilteredOptionsContext must be used within a FilteredOptionsProvider\",\n});\nconst FilteredOptionsProvider = ({ children, value: props, }) => {\n    const { allowNewValues, filteredOptions: externalFilteredOptions, isListOpen: isExternalListOpen, isLoading, options, } = props;\n    const [filteredOptionsRef, setFilteredOptionsRef] = useState(null);\n    const virtualFocus = useVirtualFocus(filteredOptionsRef);\n    const { inputProps: { \"aria-describedby\": partialAriaDescribedBy, id, disabled }, readOnly, value, searchTerm, setValue, setSearchTerm, shouldAutocomplete, setHideCaret, } = useInputContext();\n    const { maxSelected } = useSelectedOptionsContext();\n    const [isInternalListOpen, setInternalListOpen] = useState(false);\n    const { customOptions } = useComboboxCustomOptions();\n    const filteredOptions = useMemo(() => {\n        if (externalFilteredOptions) {\n            return externalFilteredOptions;\n        }\n        const opts = [...customOptions, ...options];\n        return filteredOptionsUtils.getMatchingValuesFromList(searchTerm, opts);\n    }, [customOptions, externalFilteredOptions, options, searchTerm]);\n    const previousSearchTerm = usePrevious(searchTerm);\n    const [isMouseLastUsedInputDevice, setIsMouseLastUsedInputDevice] = useState(false);\n    const filteredOptionsMap = useMemo(() => {\n        const initialMap = Object.assign({ [filteredOptionsUtils.getAddNewOptionId(id)]: allowNewValues\n                ? toComboboxOption(value)\n                : undefined }, customOptions.reduce((acc, customOption) => {\n            const _id = filteredOptionsUtils.getOptionId(id, customOption.value);\n            acc[_id] = customOption;\n            return acc;\n        }, {}));\n        // Add the options to the map\n        const finalMap = options.reduce((map, _option) => {\n            const _id = filteredOptionsUtils.getOptionId(id, _option.value);\n            map[_id] = _option;\n            return map;\n        }, initialMap);\n        return finalMap;\n    }, [allowNewValues, customOptions, id, options, value]);\n    useClientLayoutEffect(() => {\n        var _a;\n        const autoCompleteCandidate = (_a = filteredOptionsUtils.getFirstValueStartingWith(searchTerm, filteredOptions)) === null || _a === void 0 ? void 0 : _a.label;\n        if (shouldAutocomplete &&\n            autoCompleteCandidate &&\n            ((previousSearchTerm === null || previousSearchTerm === void 0 ? void 0 : previousSearchTerm.length) || 0) < searchTerm.length) {\n            setValue(`${searchTerm}${autoCompleteCandidate.substring(searchTerm.length)}`);\n        }\n    }, [\n        filteredOptions,\n        previousSearchTerm,\n        searchTerm,\n        setSearchTerm,\n        setValue,\n        shouldAutocomplete,\n    ]);\n    const isListOpen = useMemo(() => {\n        return isExternalListOpen !== null && isExternalListOpen !== void 0 ? isExternalListOpen : isInternalListOpen;\n    }, [isExternalListOpen, isInternalListOpen]);\n    const toggleIsListOpen = useCallback((newState) => {\n        if (disabled || readOnly) {\n            return;\n        }\n        virtualFocus.resetFocus();\n        if (newState !== null && newState !== void 0 ? newState : !isInternalListOpen) {\n            setHideCaret(maxSelected.isLimitReached);\n        }\n        setInternalListOpen((oldState) => newState !== null && newState !== void 0 ? newState : !oldState);\n    }, [\n        virtualFocus,\n        maxSelected.isLimitReached,\n        isInternalListOpen,\n        setHideCaret,\n        disabled,\n        readOnly,\n    ]);\n    const isValueNew = useMemo(() => Boolean(searchTerm) &&\n        !filteredOptionsMap[filteredOptionsUtils.getOptionId(id, searchTerm)], [filteredOptionsMap, id, searchTerm]);\n    const ariaDescribedBy = useMemo(() => {\n        let activeOption = \"\";\n        if (!isLoading && filteredOptions.length === 0 && !allowNewValues) {\n            activeOption = filteredOptionsUtils.getNoHitsId(id);\n        }\n        else if (value || isLoading) {\n            if (shouldAutocomplete && filteredOptions[0]) {\n                activeOption = filteredOptionsUtils.getOptionId(id, filteredOptions[0].value);\n            }\n            else if (isListOpen && isLoading) {\n                activeOption = filteredOptionsUtils.getIsLoadingId(id);\n            }\n        }\n        const maybeMaxSelectedOptionsId = maxSelected.isLimitReached &&\n            filteredOptionsUtils.getMaxSelectedOptionsId(id);\n        return (cl(activeOption, maybeMaxSelectedOptionsId, partialAriaDescribedBy) ||\n            undefined);\n    }, [\n        isListOpen,\n        isLoading,\n        maxSelected.isLimitReached,\n        value,\n        partialAriaDescribedBy,\n        shouldAutocomplete,\n        filteredOptions,\n        id,\n        allowNewValues,\n    ]);\n    const currentOption = useMemo(() => { var _a; return filteredOptionsMap[((_a = virtualFocus.activeElement) === null || _a === void 0 ? void 0 : _a.getAttribute(\"id\")) || -1]; }, [filteredOptionsMap, virtualFocus]);\n    const activeDecendantId = useMemo(() => { var _a; return ((_a = virtualFocus.activeElement) === null || _a === void 0 ? void 0 : _a.getAttribute(\"id\")) || undefined; }, [virtualFocus.activeElement]);\n    const filteredOptionsState = {\n        activeDecendantId,\n        allowNewValues,\n        setFilteredOptionsRef,\n        shouldAutocomplete,\n        isListOpen,\n        isLoading,\n        filteredOptions,\n        isMouseLastUsedInputDevice,\n        setIsMouseLastUsedInputDevice,\n        isValueNew,\n        toggleIsListOpen,\n        currentOption,\n        virtualFocus,\n        ariaDescribedBy,\n    };\n    return (React.createElement(FilteredOptionsContextProvider, Object.assign({}, filteredOptionsState), children));\n};\nexport { FilteredOptionsProvider, useFilteredOptionsContext };\n//# sourceMappingURL=filteredOptionsContext.js.map","import React from \"react\";\nimport { PlusIcon } from \"@navikt/aksel-icons\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { BodyShort, Label } from \"../../../typography/index.js\";\nimport { useI18n } from \"../../../util/i18n/i18n.hooks.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport { isInList, toComboboxOption } from \"../combobox-utils.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nimport { useFilteredOptionsContext } from \"./filteredOptionsContext.js\";\nconst AddNewOption = () => {\n    const { cn } = useRenameCSS();\n    const { inputProps: { id }, size, searchTerm, } = useInputContext();\n    const { setIsMouseLastUsedInputDevice, toggleIsListOpen, activeDecendantId, virtualFocus, } = useFilteredOptionsContext();\n    const { isMultiSelect, selectedOptions, toggleOption } = useSelectedOptionsContext();\n    const translate = useI18n(\"Combobox\");\n    return (React.createElement(\"li\", { tabIndex: -1, onMouseMove: () => {\n            if (activeDecendantId !== filteredOptionsUtil.getAddNewOptionId(id)) {\n                virtualFocus.moveFocusToElement(filteredOptionsUtil.getAddNewOptionId(id));\n                setIsMouseLastUsedInputDevice(true);\n            }\n        }, onPointerUp: (event) => {\n            toggleOption(toComboboxOption(searchTerm), event);\n            if (!isMultiSelect && !isInList(searchTerm, selectedOptions))\n                toggleIsListOpen(false);\n        }, id: filteredOptionsUtil.getAddNewOptionId(id), className: cn(\"navds-combobox__list-item navds-combobox__list-item--new-option\", {\n            \"navds-combobox__list-item--new-option--focus\": activeDecendantId === filteredOptionsUtil.getAddNewOptionId(id),\n        }), role: \"option\", \"aria-selected\": false },\n        React.createElement(PlusIcon, { \"aria-hidden\": true }),\n        React.createElement(BodyShort, { size: size },\n            translate(\"addOption\"),\n            \" \",\n            React.createElement(Label, { as: \"span\", size: size },\n                \"\\u201C\",\n                searchTerm,\n                \"\\u201D\"))));\n};\nexport default AddNewOption;\n//# sourceMappingURL=AddNewOption.js.map","import React from \"react\";\nimport { CheckmarkIcon } from \"@navikt/aksel-icons\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { BodyShort } from \"../../../typography/index.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport { isInList } from \"../combobox-utils.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nimport { useFilteredOptionsContext } from \"./filteredOptionsContext.js\";\nconst useTextHighlight = (text, searchTerm) => {\n    const indexOfHighlightedText = text\n        .toLowerCase()\n        .indexOf(searchTerm.toLowerCase());\n    const start = text.substring(0, indexOfHighlightedText);\n    const highlight = text.substring(indexOfHighlightedText, indexOfHighlightedText + searchTerm.length);\n    const end = text.substring(indexOfHighlightedText + searchTerm.length);\n    return [start, highlight, end];\n};\nconst FilteredOptionsItem = ({ option }) => {\n    const { cn } = useRenameCSS();\n    const { inputProps: { id }, size, searchTerm, } = useInputContext();\n    const { setIsMouseLastUsedInputDevice, toggleIsListOpen, activeDecendantId, virtualFocus, } = useFilteredOptionsContext();\n    const { isMultiSelect, maxSelected, selectedOptions, toggleOption } = useSelectedOptionsContext();\n    const [start, highlight, end] = useTextHighlight(option.label, searchTerm);\n    const isDisabled = (_option) => maxSelected.isLimitReached && !isInList(_option.value, selectedOptions);\n    const optionId = filteredOptionsUtil.getOptionId(id, option.value);\n    const isActive = activeDecendantId === optionId;\n    return (React.createElement(\"li\", { className: cn(\"navds-combobox__list-item\", {\n            \"navds-combobox__list-item--focus\": isActive,\n            \"navds-combobox__list-item--selected\": isInList(option.value, selectedOptions),\n        }), \"data-no-focus\": isDisabled(option) || undefined, id: optionId, key: optionId, tabIndex: -1, onMouseMove: () => {\n            if (!isActive) {\n                virtualFocus.moveFocusToElement(optionId);\n                setIsMouseLastUsedInputDevice(true);\n            }\n        }, onPointerUp: (event) => {\n            if (isDisabled(option)) {\n                return;\n            }\n            toggleOption(option, event);\n            if (!isMultiSelect && !isInList(option.value, selectedOptions)) {\n                toggleIsListOpen(false);\n            }\n        }, role: \"option\", \"aria-selected\": isInList(option.value, selectedOptions), \"aria-disabled\": isDisabled(option) || undefined },\n        React.createElement(BodyShort, { size: size, \"aria-label\": option.label },\n            start,\n            highlight && React.createElement(\"mark\", null, highlight),\n            end),\n        isInList(option.value, selectedOptions) && React.createElement(CheckmarkIcon, null)));\n};\nexport default FilteredOptionsItem;\n//# sourceMappingURL=FilteredOptionsItem.js.map","import React from \"react\";\nimport { Loader } from \"../../../loader/index.js\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useI18n } from \"../../../util/i18n/i18n.hooks.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nconst LoadingMessage = () => {\n    const { inputProps: { id }, } = useInputContext();\n    const { cn } = useRenameCSS();\n    const translate = useI18n(\"Combobox\");\n    return (React.createElement(\"div\", { className: cn(\"navds-combobox__list-item--loading\"), id: filteredOptionsUtil.getIsLoadingId(id) },\n        React.createElement(Loader, { title: translate(\"loading\") })));\n};\nexport default LoadingMessage;\n//# sourceMappingURL=LoadingMessage.js.map","import React from \"react\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useI18n } from \"../../../util/i18n/i18n.hooks.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nconst MaxSelectedMessage = () => {\n    const { cn } = useRenameCSS();\n    const { inputProps: { id }, } = useInputContext();\n    const { maxSelected, selectedOptions } = useSelectedOptionsContext();\n    const translate = useI18n(\"Combobox\");\n    return (React.createElement(\"div\", { className: cn(\"navds-combobox__list-item--max-selected\"), id: filteredOptionsUtil.getMaxSelectedOptionsId(id) }, translate(\"maxSelected\", {\n        selected: selectedOptions.length,\n        limit: maxSelected.limit || 0,\n    })));\n};\nexport default MaxSelectedMessage;\n//# sourceMappingURL=MaxSelectedMessage.js.map","import React from \"react\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nconst NoSearchHitsMessage = () => {\n    const { cn } = useRenameCSS();\n    const { inputProps: { id }, } = useInputContext();\n    return (React.createElement(\"div\", { className: cn(\"navds-combobox__list-item--no-options\"), id: filteredOptionsUtil.getNoHitsId(id) }, \"Ingen s\\u00F8ketreff\"));\n};\nexport default NoSearchHitsMessage;\n//# sourceMappingURL=NoSearchHitsMessage.js.map","import React from \"react\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport AddNewOption from \"./AddNewOption.js\";\nimport FilteredOptionsItem from \"./FilteredOptionsItem.js\";\nimport LoadingMessage from \"./LoadingMessage.js\";\nimport MaxSelectedMessage from \"./MaxSelectedMessage.js\";\nimport NoSearchHitsMessage from \"./NoSearchHitsMessage.js\";\nimport filteredOptionsUtil from \"./filtered-options-util.js\";\nimport { useFilteredOptionsContext } from \"./filteredOptionsContext.js\";\nconst FilteredOptions = () => {\n    const { cn } = useRenameCSS();\n    const { inputProps: { id }, } = useInputContext();\n    const { allowNewValues, isLoading, isListOpen, filteredOptions, setFilteredOptionsRef, isMouseLastUsedInputDevice, isValueNew, } = useFilteredOptionsContext();\n    const { maxSelected, isMultiSelect } = useSelectedOptionsContext();\n    const shouldRenderNonSelectables = (isMultiSelect && maxSelected.limit) || // Render maxSelected message\n        isLoading || // Render loading message\n        (!isLoading && filteredOptions.length === 0 && !allowNewValues); // Render no hits message\n    const shouldRenderFilteredOptionsList = (allowNewValues && isValueNew && !maxSelected.isLimitReached) || // Render add new option\n        filteredOptions.length > 0; // Render filtered options\n    return (React.createElement(\"div\", { className: cn(\"navds-combobox__list\", {\n            \"navds-combobox__list--closed\": !isListOpen,\n            \"navds-combobox__list--with-hover\": isMouseLastUsedInputDevice,\n        }), id: filteredOptionsUtil.getFilteredOptionsId(id), tabIndex: -1 },\n        shouldRenderNonSelectables && (React.createElement(\"div\", { className: cn(\"navds-combobox__list_non-selectables\"), role: \"status\" },\n            isMultiSelect && maxSelected.limit && React.createElement(MaxSelectedMessage, null),\n            isLoading && React.createElement(LoadingMessage, null),\n            !isLoading && filteredOptions.length === 0 && !allowNewValues && (React.createElement(NoSearchHitsMessage, null)))),\n        shouldRenderFilteredOptionsList && (\n        /* biome-ignore lint/a11y/useFocusableInteractive: Interaction is not handeled by listbox itself. */\n        React.createElement(\"ul\", { ref: setFilteredOptionsRef, role: \"listbox\", className: cn(\"navds-combobox__list-options\") },\n            isValueNew && !maxSelected.isLimitReached && allowNewValues && (React.createElement(AddNewOption, null)),\n            filteredOptions.map((option) => (React.createElement(FilteredOptionsItem, { key: option.value, option: option })))))));\n};\nexport default FilteredOptions;\n//# sourceMappingURL=FilteredOptions.js.map","import React from \"react\";\nimport { Chips } from \"../../../chips/index.js\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useInputContext } from \"../Input/Input.context.js\";\nimport { useSelectedOptionsContext } from \"./selectedOptionsContext.js\";\nconst Option = ({ option }) => {\n    const { cn } = useRenameCSS();\n    const { isMultiSelect, removeSelectedOption } = useSelectedOptionsContext();\n    const { focusInput, readOnly, inputProps } = useInputContext();\n    if (!isMultiSelect) {\n        return (React.createElement(\"div\", { className: cn(\"navds-combobox__selected-options--no-bg\") }, option.label));\n    }\n    if (readOnly || inputProps.disabled) {\n        return (React.createElement(Chips.Toggle, { \"data-color\": \"neutral\", variant: \"neutral\", checkmark: false, as: \"div\" }, option.label));\n    }\n    return (React.createElement(Chips.Removable, { onClick: (event) => {\n            event.stopPropagation();\n            removeSelectedOption(option);\n            focusInput();\n        } }, option.label));\n};\nconst SelectedOptions = ({ selectedOptions = [], size, children, }) => {\n    const { cn } = useRenameCSS();\n    const { value } = useInputContext();\n    const { isMultiSelect } = useSelectedOptionsContext();\n    return (React.createElement(Chips, { className: cn(\"navds-combobox__selected-options\"), size: size, \"data-type\": isMultiSelect ? \"multiple\" : \"single\" },\n        value.length === 0 || (isMultiSelect && selectedOptions.length)\n            ? selectedOptions.map((option, i) => (React.createElement(Option, { key: option.label + i, option: option })))\n            : [],\n        children));\n};\nexport default SelectedOptions;\n//# sourceMappingURL=SelectedOptions.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, useCallback, useRef, } from \"react\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { omit } from \"../../../util/index.js\";\nimport { composeEventHandlers } from \"../../../util/composeEventHandlers.js\";\nimport { useMergeRefs } from \"../../../util/hooks/index.js\";\nimport filteredOptionsUtil from \"../FilteredOptions/filtered-options-util.js\";\nimport { useFilteredOptionsContext } from \"../FilteredOptions/filteredOptionsContext.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport { useInputContext } from \"./Input.context.js\";\nconst Input = forwardRef((_a, ref) => {\n    var { inputClassName, shouldShowSelectedOptions, placeholder, onBlur } = _a, rest = __rest(_a, [\"inputClassName\", \"shouldShowSelectedOptions\", \"placeholder\", \"onBlur\"]);\n    const { cn } = useRenameCSS();\n    const internalRef = useRef(null);\n    const mergedRefs = useMergeRefs(ref, internalRef);\n    const { clearInput, inputProps, onChange, size, value, searchTerm, setValue, hideCaret, setHideCaret, readOnly, } = useInputContext();\n    const { selectedOptions, removeSelectedOption, toggleOption, isMultiSelect, maxSelected, } = useSelectedOptionsContext();\n    const { activeDecendantId, allowNewValues, currentOption, filteredOptions, isValueNew, toggleIsListOpen, isListOpen, ariaDescribedBy, setIsMouseLastUsedInputDevice, shouldAutocomplete, virtualFocus, } = useFilteredOptionsContext();\n    const onEnter = useCallback((event) => {\n        var _a;\n        const isSelected = (text) => selectedOptions.some((option) => option.label.toLocaleLowerCase() === text.toLocaleLowerCase());\n        if (currentOption) {\n            event.preventDefault();\n            // Selecting a value from the dropdown / FilteredOptions\n            toggleOption(currentOption, event);\n            if (!isMultiSelect && !isSelected(currentOption.label)) {\n                toggleIsListOpen(false);\n            }\n        }\n        else if (isSelected(value)) {\n            event.preventDefault();\n            // Trying to set the same value that is already set, so just clearing the input\n            clearInput(event);\n        }\n        else if ((allowNewValues || shouldAutocomplete) && value !== \"\") {\n            event.preventDefault();\n            const autoCompletedOption = filteredOptionsUtil.getFirstValueStartingWith(value, filteredOptions);\n            /*\n             * User can have matching results, while not using the autocomplete result\n             * E.g. User types \"Oslo\", list has is \"Oslo kommune\", but user hits backspace, canceling autocomplete.\n             */\n            const autoCompleteMatchesValue = filteredOptionsUtil.normalizeText(value) ===\n                filteredOptionsUtil.normalizeText((_a = autoCompletedOption === null || autoCompletedOption === void 0 ? void 0 : autoCompletedOption.label) !== null && _a !== void 0 ? _a : \"\");\n            let optionToToggle;\n            if (shouldAutocomplete &&\n                autoCompletedOption &&\n                autoCompleteMatchesValue) {\n                optionToToggle = autoCompletedOption;\n            }\n            else if (allowNewValues && isValueNew) {\n                optionToToggle = { label: value, value };\n            }\n            if (!optionToToggle) {\n                return;\n            }\n            toggleOption(optionToToggle, event);\n            if (!isMultiSelect && !isSelected(optionToToggle.label)) {\n                toggleIsListOpen(false);\n            }\n        }\n    }, [\n        allowNewValues,\n        clearInput,\n        currentOption,\n        filteredOptions,\n        isMultiSelect,\n        isValueNew,\n        selectedOptions,\n        shouldAutocomplete,\n        toggleIsListOpen,\n        toggleOption,\n        value,\n    ]);\n    const handleKeyUp = (e) => {\n        e.preventDefault();\n        switch (e.key) {\n            case \"Enter\":\n            case \"Accept\":\n                onEnter(e);\n                break;\n            default:\n                break;\n        }\n    };\n    const handleKeyDown = useCallback((e) => {\n        setIsMouseLastUsedInputDevice(false);\n        if (readOnly) {\n            return;\n        }\n        if (e.key === \"Backspace\") {\n            if (value === \"\" && shouldShowSelectedOptions) {\n                const lastSelectedOption = selectedOptions[selectedOptions.length - 1];\n                if (lastSelectedOption) {\n                    removeSelectedOption(lastSelectedOption);\n                }\n            }\n        }\n        else if (e.key === \"Enter\" || e.key === \"Accept\") {\n            if (activeDecendantId || value) {\n                e.preventDefault();\n            }\n        }\n        else if (e.key === \"Escape\") {\n            if (isListOpen || value) {\n                e.preventDefault(); // Prevents closing an encasing Modal, as Combobox reacts on keyup.\n                clearInput(e);\n                toggleIsListOpen(false);\n            }\n        }\n        else if ([\"ArrowLeft\", \"ArrowRight\"].includes(e.key)) {\n            /**\n             * In case user has an active selection and 'completes' the selection with ArrowLeft or ArrowRight\n             * we need to make sure to update the filter.\n             */\n            if (value !== \"\" && value !== searchTerm) {\n                onChange(value);\n            }\n        }\n        else if (e.key === \"ArrowDown\") {\n            // Reset the value to the search term to cancel autocomplete\n            // if the user moves focus down to the FilteredOptions\n            if (value !== searchTerm) {\n                setValue(searchTerm);\n            }\n            if (!isListOpen) {\n                toggleIsListOpen(true);\n                setTimeout(virtualFocus.moveFocusDown, 0); // Wait until list is visible so that scrollIntoView works\n            }\n            else {\n                virtualFocus.moveFocusDown();\n            }\n        }\n        else if (e.key === \"ArrowUp\") {\n            if (value !== \"\" && value !== searchTerm) {\n                onChange(value);\n            }\n            // Check that the FilteredOptions list is open and has virtual focus.\n            // Otherwise ignore keystrokes, so it doesn't interfere with text editing\n            if (isListOpen && activeDecendantId) {\n                e.preventDefault();\n                if (virtualFocus.isFocusOnTheTop()) {\n                    toggleIsListOpen(false);\n                }\n                virtualFocus.moveFocusUp();\n            }\n        }\n        else if (e.key === \"Home\") {\n            e.preventDefault();\n            virtualFocus.moveFocusToTop();\n        }\n        else if (e.key === \"End\") {\n            e.preventDefault();\n            if (!isListOpen) {\n                toggleIsListOpen(true);\n                setTimeout(virtualFocus.moveFocusToBottom, 0); // Wait until list is visible so that scrollIntoView works\n            }\n            else {\n                virtualFocus.moveFocusToBottom();\n            }\n        }\n        else if (e.key === \"PageUp\") {\n            e.preventDefault();\n            virtualFocus.moveFocusUpBy(6);\n        }\n        else if (e.key === \"PageDown\") {\n            e.preventDefault();\n            if (!isListOpen) {\n                toggleIsListOpen(true);\n                setTimeout(() => virtualFocus.moveFocusDownBy(6), 0); // Wait until list is visible so that scrollIntoView works\n            }\n            else {\n                virtualFocus.moveFocusDownBy(6);\n            }\n        }\n    }, [\n        value,\n        selectedOptions,\n        removeSelectedOption,\n        isListOpen,\n        activeDecendantId,\n        setIsMouseLastUsedInputDevice,\n        clearInput,\n        toggleIsListOpen,\n        onChange,\n        virtualFocus,\n        setValue,\n        searchTerm,\n        shouldShowSelectedOptions,\n        readOnly,\n    ]);\n    const onChangeHandler = useCallback((event) => {\n        const newValue = event.target.value;\n        if (newValue && newValue !== \"\") {\n            toggleIsListOpen(true);\n        }\n        else if (filteredOptions.length === 0) {\n            toggleIsListOpen(false);\n        }\n        onChange(newValue);\n    }, [filteredOptions.length, onChange, toggleIsListOpen]);\n    return (React.createElement(\"input\", Object.assign({}, rest, omit(inputProps, [\"aria-invalid\"]), { ref: mergedRefs, type: \"text\", role: \"combobox\", value: value, onBlur: composeEventHandlers(onBlur, virtualFocus.resetFocus), onClick: () => {\n            setHideCaret(maxSelected.isLimitReached);\n            value !== searchTerm && onChange(value);\n        }, onInput: onChangeHandler, onKeyUp: handleKeyUp, onKeyDown: handleKeyDown, autoComplete: \"off\", placeholder: selectedOptions.length ? undefined : placeholder, className: cn(inputClassName, \"navds-combobox__input\", \"navds-body-short\", `navds-body-short--${size}`, { \"navds-combobox__input--hide-caret\": hideCaret }), \"aria-controls\": filteredOptionsUtil.getFilteredOptionsId(inputProps.id), \"aria-expanded\": !!isListOpen, \"aria-autocomplete\": shouldAutocomplete ? \"both\" : \"list\", \"aria-activedescendant\": activeDecendantId, \"aria-describedby\": ariaDescribedBy, \"aria-invalid\": inputProps[\"aria-invalid\"], readOnly: readOnly })));\n});\nexport default Input;\n//# sourceMappingURL=Input.js.map","import React, { forwardRef } from \"react\";\nimport { ChevronDownIcon, ChevronUpIcon } from \"@navikt/aksel-icons\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useFilteredOptionsContext } from \"../FilteredOptions/filteredOptionsContext.js\";\nimport { useInputContext } from \"./Input.context.js\";\nexport const ToggleListButton = forwardRef((_, ref) => {\n    const { cn } = useRenameCSS();\n    const { isListOpen, toggleIsListOpen } = useFilteredOptionsContext();\n    const { focusInput } = useInputContext();\n    return (React.createElement(\"div\", { ref: ref, onClick: () => {\n            toggleIsListOpen();\n            focusInput();\n        }, className: cn(\"navds-combobox__button-toggle-list\"), \"aria-hidden\": true }, isListOpen ? React.createElement(ChevronUpIcon, null) : React.createElement(ChevronDownIcon, null)));\n});\nexport default ToggleListButton;\n//# sourceMappingURL=ToggleListButton.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { forwardRef } from \"react\";\nimport { useRenameCSS } from \"../../../theme/Theme.js\";\nimport { useMergeRefs } from \"../../../util/hooks/index.js\";\nimport { useFilteredOptionsContext } from \"../FilteredOptions/filteredOptionsContext.js\";\nimport SelectedOptions from \"../SelectedOptions/SelectedOptions.js\";\nimport { useSelectedOptionsContext } from \"../SelectedOptions/selectedOptionsContext.js\";\nimport Input from \"./Input.js\";\nimport { useInputContext } from \"./Input.context.js\";\nimport ToggleListButton from \"./ToggleListButton.js\";\nexport const InputController = forwardRef((props, ref) => {\n    const { \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars -- Remove when prop has been removed from ComboboxProps.\n    clearButton, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars -- Remove when prop has been removed from ComboboxProps.\n    clearButtonLabel, toggleListButton = true, inputClassName, shouldShowSelectedOptions = true } = props, rest = __rest(props, [\"clearButton\", \"clearButtonLabel\", \"toggleListButton\", \"inputClassName\", \"shouldShowSelectedOptions\"]);\n    const { cn } = useRenameCSS();\n    const { focusInput, inputProps, size = \"medium\", inputRef, toggleOpenButtonRef, readOnly, } = useInputContext();\n    const { activeDecendantId, toggleIsListOpen } = useFilteredOptionsContext();\n    const { selectedOptions } = useSelectedOptionsContext();\n    const mergedInputRef = useMergeRefs(inputRef, ref);\n    return (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n    React.createElement(\"div\", { className: cn(\"navds-combobox__wrapper-inner navds-text-field__input\", {\n            \"navds-combobox__wrapper-inner--virtually-unfocused\": activeDecendantId !== undefined,\n        }), onClick: () => {\n            if (inputProps.disabled || readOnly) {\n                return;\n            }\n            toggleIsListOpen(true);\n            focusInput();\n        } },\n        !shouldShowSelectedOptions ? (React.createElement(Input, Object.assign({ id: inputProps.id, ref: mergedInputRef, inputClassName: inputClassName, readOnly: readOnly }, rest))) : (React.createElement(SelectedOptions, { selectedOptions: selectedOptions, size: size },\n            React.createElement(Input, Object.assign({ id: inputProps.id, ref: mergedInputRef, inputClassName: inputClassName, shouldShowSelectedOptions: shouldShowSelectedOptions, readOnly: readOnly }, rest)))),\n        toggleListButton && React.createElement(ToggleListButton, { ref: toggleOpenButtonRef })));\n});\n//# sourceMappingURL=InputController.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from \"react\";\nimport { useRenameCSS } from \"../../theme/Theme.js\";\nimport { BodyShort, ErrorMessage, Label } from \"../../typography/index.js\";\nimport { ReadOnlyIconWithTitle } from \"../ReadOnlyIcon.js\";\nimport ComboboxWrapper from \"./ComboboxWrapper.js\";\nimport FilteredOptions from \"./FilteredOptions/FilteredOptions.js\";\nimport { useFilteredOptionsContext } from \"./FilteredOptions/filteredOptionsContext.js\";\nimport { useInputContext } from \"./Input/Input.context.js\";\nimport { InputController } from \"./Input/InputController.js\";\nexport const Combobox = forwardRef((props, ref) => {\n    const { className, hideLabel = false, description, label } = props, rest = __rest(props, [\"className\", \"hideLabel\", \"description\", \"label\"]);\n    const { cn } = useRenameCSS();\n    const { toggleIsListOpen } = useFilteredOptionsContext();\n    const { error, errorId, hasError, inputDescriptionId, inputProps, showErrorMsg, size = \"medium\", readOnly, } = useInputContext();\n    return (React.createElement(ComboboxWrapper, { className: className, hasError: hasError, inputProps: inputProps, inputSize: size, toggleIsListOpen: toggleIsListOpen },\n        React.createElement(Label, { htmlFor: inputProps.id, size: size, className: cn(\"navds-form-field__label\", {\n                \"navds-sr-only\": hideLabel,\n            }) },\n            readOnly && React.createElement(ReadOnlyIconWithTitle, null),\n            label),\n        !!description && (React.createElement(BodyShort, { as: \"div\", className: cn(\"navds-form-field__description\", {\n                \"navds-sr-only\": hideLabel,\n            }), id: inputDescriptionId, size: size }, description)),\n        React.createElement(\"div\", { className: cn(\"navds-combobox__wrapper\") },\n            React.createElement(InputController, Object.assign({ ref: ref }, rest)),\n            React.createElement(FilteredOptions, null)),\n        React.createElement(\"div\", { className: cn(\"navds-form-field__error\"), id: errorId, \"aria-relevant\": \"additions removals\", \"aria-live\": \"polite\" }, showErrorMsg && (React.createElement(ErrorMessage, { size: size, showIcon: true }, error)))));\n});\nexport default Combobox;\n//# sourceMappingURL=Combobox.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from \"react\";\nimport Combobox from \"./Combobox.js\";\nimport { FilteredOptionsProvider } from \"./FilteredOptions/filteredOptionsContext.js\";\nimport { InputContextProvider } from \"./Input/Input.context.js\";\nimport { SelectedOptionsProvider } from \"./SelectedOptions/selectedOptionsContext.js\";\nimport { mapToComboboxOptionArray } from \"./combobox-utils.js\";\nimport { CustomOptionsProvider } from \"./customOptionsContext.js\";\n/**\n * A component that allows the user to search in a list of options\n *\n * Has options for allowing only one or multiple options to be selected,\n * or adding new, user-submitted values.\n *\n * @see [📝 Documentation](https://aksel.nav.no/komponenter/core/combobox)\n *\n * @example\n * ```jsx\n * const options = [\"apple\", \"banana\", \"orange\"];\n *\n * return (\n *    <Combobox\n *      label=\"Velg en verdi\"\n *      options={options}\n *      id=\"my-combobox\"\n *      shouldAutoComplete\n *    />\n * )\n * ```\n */\nconst ComboboxProvider = forwardRef((props, ref) => {\n    const { allowNewValues = false, children, defaultValue, disabled, readOnly, error, errorId, filteredOptions: externalFilteredOptions, id, isListOpen, isLoading = false, isMultiSelect, onToggleSelected, selectedOptions: externalSelectedOptions, maxSelected, options: externalOptions, value, onChange, onClear, shouldAutocomplete: externalShouldAutocomplete, size } = props, rest = __rest(props, [\"allowNewValues\", \"children\", \"defaultValue\", \"disabled\", \"readOnly\", \"error\", \"errorId\", \"filteredOptions\", \"id\", \"isListOpen\", \"isLoading\", \"isMultiSelect\", \"onToggleSelected\", \"selectedOptions\", \"maxSelected\", \"options\", \"value\", \"onChange\", \"onClear\", \"shouldAutocomplete\", \"size\"]);\n    const options = mapToComboboxOptionArray(externalOptions) || [];\n    const filteredOptions = mapToComboboxOptionArray(externalFilteredOptions);\n    const selectedOptions = mapToComboboxOptionArray(externalSelectedOptions);\n    const userAgent = typeof navigator === \"undefined\" ? \"\" : navigator.userAgent;\n    const isFirefoxOnAndroid = userAgent.includes(\"Android\") && userAgent.includes(\"Firefox/\");\n    const shouldAutocomplete = !isFirefoxOnAndroid && externalShouldAutocomplete;\n    return (React.createElement(InputContextProvider, { value: {\n            defaultValue,\n            description: rest.description,\n            disabled,\n            readOnly,\n            error,\n            errorId,\n            id,\n            value,\n            onChange,\n            onClear,\n            shouldAutocomplete,\n            size,\n        } },\n        React.createElement(CustomOptionsProvider, { value: { isMultiSelect } },\n            React.createElement(SelectedOptionsProvider, { value: {\n                    allowNewValues,\n                    isMultiSelect,\n                    selectedOptions,\n                    maxSelected,\n                    onToggleSelected,\n                    options,\n                } },\n                React.createElement(FilteredOptionsProvider, { value: {\n                        allowNewValues,\n                        filteredOptions,\n                        isListOpen,\n                        isLoading,\n                        options,\n                    } },\n                    React.createElement(Combobox, Object.assign({ ref: ref }, rest), children))))));\n});\nexport default ComboboxProvider;\n//# sourceMappingURL=ComboboxProvider.js.map"],"names":["__rest","s","e","t","p","i","SvgCheckmark","forwardRef","_a","ref","title","_titleId","props","titleId","useId","React.createElement","SvgChevronUp","SvgPlus","usePrevious","value","useRef","useEffect","RemovableChips","children","variant","onDelete","className","onClick","type","color","rest","translate","useI18n","themeContext","useThemeInternal","cn","useRenameCSS","localVariant","React","variantToColor","composeEventHandlers","XMarkIcon","ToggleChips","selected","checkmark","Component","Chips","size","chip","index","InputContextProvider","useInputContext","createContext","InputProvider","defaultValue","description","disabled","readOnly","error","errorId","externalId","externalValue","externalOnChange","onClear","shouldAutocomplete","formFieldProps","useFormField","inputRef","toggleOpenButtonRef","internalValue","setInternalValue","useState","hideCaret","setHideCaret","useMemo","searchTerm","setSearchTerm","onChange","useCallback","newValue","clearInput","event","focusInput","_b","useClientLayoutEffect","contextValue","ComboboxWrapper","hasError","inputProps","inputSize","toggleIsListOpen","wrapperRef","hasFocusWithin","setHasFocusWithin","onFocusInsideWrapper","onBlurWrapper","isInList","option","list","listItem","toComboboxOption","mapToComboboxOptionArray","options","ComboboxCustomOptionsProvider","useComboboxCustomOptions","CustomOptionsProvider","customOptions","setCustomOptions","isMultiSelect","removeCustomOption","prevCustomOptions","o","addCustomOption","prevOptions","customOptionsState","SelectedOptionsContextProvider","useSelectedOptionsContext","SelectedOptionsProvider","allowNewValues","externalSelectedOptions","onToggleSelected","maxSelected","internalSelectedOptions","setSelectedOptions","selectedOptions","addSelectedOption","isCustomOption","oldSelectedOptions","removeSelectedOption","selectedOption","maxSelectedLimit","isLimitReached","newHideCaret","toggleOption","prevSelectedOptions","selectedOptionsState","normalizeText","text","isPartOfText","getMatchingValuesFromList","getFirstValueStartingWith","getFilteredOptionsId","comboboxId","getOptionId","getAddNewOptionId","getIsLoadingId","getNoHitsId","getMaxSelectedOptionsId","filteredOptionsUtil","useVirtualFocus","containerRef","activeElement","setActiveElement","getListOfAllChildren","getElementsAbleToReceiveFocus","child","getElementById","id","element","isFocusOnTheTop","isFocusOnTheBottom","elementsAbleToReceiveFocus","setActiveAndScrollToElement","_currentIndex","elementAbove","_element","_focusableElement","numberOfElements","currentIndex","newIndex","FilteredOptionsContextProvider","useFilteredOptionsContext","FilteredOptionsProvider","externalFilteredOptions","isExternalListOpen","isLoading","filteredOptionsRef","setFilteredOptionsRef","virtualFocus","partialAriaDescribedBy","setValue","isInternalListOpen","setInternalListOpen","filteredOptions","opts","filteredOptionsUtils","previousSearchTerm","isMouseLastUsedInputDevice","setIsMouseLastUsedInputDevice","filteredOptionsMap","initialMap","acc","customOption","_id","map","_option","autoCompleteCandidate","isListOpen","newState","oldState","isValueNew","ariaDescribedBy","activeOption","maybeMaxSelectedOptionsId","cl","currentOption","filteredOptionsState","AddNewOption","activeDecendantId","PlusIcon","BodyShort","Label","useTextHighlight","indexOfHighlightedText","start","highlight","end","FilteredOptionsItem","isDisabled","optionId","isActive","CheckmarkIcon","LoadingMessage","Loader","MaxSelectedMessage","NoSearchHitsMessage","FilteredOptions","shouldRenderNonSelectables","shouldRenderFilteredOptionsList","Option","SelectedOptions","Input","inputClassName","shouldShowSelectedOptions","placeholder","onBlur","internalRef","mergedRefs","useMergeRefs","onEnter","isSelected","autoCompletedOption","autoCompleteMatchesValue","optionToToggle","handleKeyUp","handleKeyDown","lastSelectedOption","onChangeHandler","omit","ToggleListButton","_","ChevronUpIcon","ChevronDownIcon","InputController","clearButton","clearButtonLabel","toggleListButton","mergedInputRef","Combobox","hideLabel","label","inputDescriptionId","showErrorMsg","ReadOnlyIconWithTitle","ErrorMessage","ComboboxProvider","externalOptions","externalShouldAutocomplete","userAgent"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}