import{a1 as F,ac as He,a3 as le,$ as N,aK as ne,cf as Ae,bY as Le,bZ as Me,bX as Oe,d as E,b_ as Be,b$ as xe,c0 as Ie,ay as ae,t as je,c1 as Ke,aW as Ve,ap as se,Y as s,c2 as X,aA as Z,as as w,ai as ie,c3 as We,cg as ye,c4 as ke,c5 as Se,ch as Ge,c6 as qe,b2 as S,c7 as Je,c8 as Xe,c9 as Ze,bq as we,be as oe,ci as _e,cj as ve,by as u,bu as ee,at as ce,a9 as Te,aq as K,ck as Qe,a0 as Ce,cc as he,cl as re,aN as et,bw as Q,aF as tt,ab as lt,ae as st,bU as rt,bV as nt,_ as at}from"./main-b-impCUS.js";import{S as Ue,C as de,A as it}from"./AlertBanner--yDZYgEP.js";import{S as ot}from"./Switch-C5Mm46Du.js";import{H as me}from"./HGrid-k-G7xWjv.js";import{P as ct}from"./index-CNK7K_4P.js";import"./Pagination-B6GxiZe2.js";var dt=function(t,e){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]]);return l};const De=F.forwardRef((t,e)=>{var{title:l,titleId:r}=t,a=dt(t,["title","titleId"]);let n=He();return n=l?r||"title-"+n:void 0,le.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":n},a),l?le.createElement("title",{id:n},l):null,le.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 2.25a.75.75 0 0 0-.75.75v4.25H4A1.75 1.75 0 0 0 2.25 9v9c0 .414.336.75.75.75h3.25V21c0 .414.336.75.75.75h10a.75.75 0 0 0 .75-.75v-2.25H21a.75.75 0 0 0 .75-.75V9A1.75 1.75 0 0 0 20 7.25h-2.25V3a.75.75 0 0 0-.75-.75zM3.75 9A.25.25 0 0 1 4 8.75h16a.25.25 0 0 1 .25.25v8.25h-2.5V12a.75.75 0 0 0-.75-.75H7a.75.75 0 0 0-.75.75v5.25h-2.5zm12.5-1.75v-3.5h-8.5v3.5zm-8.5 5.5v7.5h8.5v-7.5zM9.25 15a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H10a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))}),mt=(t,e)=>{const{ytelseTyper:l,utbetaltTil:r,dateRange:a}=e;if(!t||t.length===0)return[];let n=t;return l?.length&&(n=n.filter(i=>i.ytelser.some(o=>o.type&&l.includes(o.type)))),r?.length&&(n=n.filter(i=>i.erUtbetaltTilOrganisasjon&&r.includes(Ne)||i.erUtbetaltTilSamhandler&&r.includes(Pe)||i.erUtbetaltTilPerson&&r.includes(ze))),a?.from&&a?.to&&(n=n.filter(i=>{const o=E(i.posteringsdato);return o.isSameOrAfter(a.from)&&o.isSameOrBefore(a.to)})),n},V=()=>{const t=N.c(25),e=ne(R);let l;t[0]!==e.dateRange.from?(l=e.dateRange.from.format("YYYY-MM-DD"),t[0]=e.dateRange.from,t[1]=l):l=t[1];const r=l;let a;t[2]!==e.dateRange.to?(a=e.dateRange.to.format("YYYY-MM-DD"),t[2]=e.dateRange.to,t[3]=a):a=t[3];const i=Ae(r,a);let o;t[4]!==i.data?.utbetalinger?(o=i?.data?.utbetalinger??[],t[4]=i.data?.utbetalinger,t[5]=o):o=t[5];const g=o;let d;t[6]!==i?(d=Le(i,Me("utbetalinger")),t[6]=i,t[7]=d):d=t[7];let m;t[8]!==d?(m=[d],t[8]=d,t[9]=m):m=t[9];const f=m;let h,c,b;if(t[10]!==e||t[11]!==g||t[12]!==i){const y=g.toSorted(Oe(ht));b=i,h=i.data,c=mt(y,e)??[],t[10]=e,t[11]=g,t[12]=i,t[13]=h,t[14]=c,t[15]=b}else h=t[13],c=t[14],b=t[15];let x;t[16]!==h||t[17]!==c?(x={...h,utbetalinger:c},t[16]=h,t[17]=c,t[18]=x):x=t[18];let p;t[19]!==f?(p=f.filter(Boolean),t[19]=f,t[20]=p):p=t[20];let j;return t[21]!==b||t[22]!==x||t[23]!==p?(j={...b,data:x,errorMessages:p},t[21]=b,t[22]=x,t[23]=p,t[24]=j):j=t[24],j},fe=t=>t.reduce((e,l)=>e+l.nettobelop,0),ue=t=>t.reduce((e,l)=>e+l.ytelseskomponentersum,0),ge=t=>t.reduce((e,l)=>e+l.skattsum+l.trekksum,0),ft=t=>t.status.toLowerCase()==="utbetalt",Ye=t=>t.flatMap(e=>e.ytelser??[]),P=t=>t.toLocaleString("no",{minimumFractionDigits:2}),I=(t,e,l)=>{const r=t.filter(n=>!l||n.status.toLowerCase()==="utbetalt").flatMap(n=>n.ytelser??[]),a=e(r);return P(a)},ut=t=>t.type||"Mangler beskrivelse",gt=t=>t.reduce((e,l)=>l.periode?{start:E(l.periode.start).isBefore(E(e.start))?l.periode.start:e.start,slutt:E(l.periode.slutt).isAfter(E(e.slutt))?l.periode.slutt:e.slutt}:e,{start:E().format(),slutt:E(0).format()}),te=t=>`${t.ytelser?.map(e=>e.type?.replace(/\s+/g,""))?.join("")}${t.posteringsdato}`,ze="Bruker",Ne="Organisasjon",Pe="Samhandler",Re=[ze,Ne,Pe];function ht(t){return t.posteringsdato}const Ee=Be(xe.CUSTOM),R=Ie({dateRange:Ee,ytelseTyper:[],utbetaltTil:Re}),bt=ae(t=>t(R).ytelseTyper,(t,e,l)=>{e(R,r=>({...r,ytelseTyper:r.ytelseTyper?je.xor(r.ytelseTyper,[l]):[l]}))}),pt=ae(t=>t(R).utbetaltTil,(t,e,l)=>{e(R,r=>({...r,utbetaltTil:je.xor(r.utbetaltTil,[l])}))}),Fe=ae(t=>t(R).dateRange,(t,e,l)=>{const r=l??Ee;e(R,a=>({...a,dateRange:r}))}),xt=()=>{const t=N.c(3),[e,l]=ie(Fe);let r;return t[0]!==l||t[1]!==e?(r=s.jsx(We,{range:e,onChange:l,defaultPeriodType:xe.CUSTOM}),t[0]=l,t[1]=e,t[2]=r):r=t[2],r},jt=()=>{const t=N.c(10),{data:e}=V();let l;t[0]!==e?.utbetalinger?(l=e?.utbetalinger??[],t[0]=e?.utbetalinger,t[1]=l):l=t[1];const r=l,[a,n]=ie(bt);let i;t[2]!==n?(i=h=>{n(h),ke("utbetaling",Se.YTELSE_TYPE)},t[2]=n,t[3]=i):i=t[3];const o=i,g=vt;let d;t[4]!==r?(d=g(r),t[4]=r,t[5]=d):d=t[5];const m=d;let f;return t[6]!==o||t[7]!==a||t[8]!==m?(f=s.jsx(Ge,{size:"small",label:"Ytelse",options:m,isMultiSelect:!0,selectedOptions:a,onToggleSelected:o}),t[6]=o,t[7]=a,t[8]=m,t[9]=f):f=t[9],f},yt=()=>{const t=N.c(7),[e,l]=ie(pt);let r;t[0]!==l?(r=o=>{l(o),ke("utbetaling",Se.TYPE)},t[0]=l,t[1]=r):r=t[1];const a=r;let n;t[2]!==a||t[3]!==e?(n=Re.map(o=>s.jsx(ot,{size:"small",checked:e.includes(o),onChange:()=>a(o),children:o},o)),t[2]=a,t[3]=e,t[4]=n):n=t[4];let i;return t[5]!==n?(i=s.jsx(qe,{size:"small",legend:"Utbetaling til",children:s.jsx(w,{gap:"2",children:n})}),t[5]=n,t[6]=i):i=t[6],i},kt=()=>{const t=N.c(6),{data:e}=V();let l;t[0]!==e?.utbetalinger?(l=e?.utbetalinger??[],t[0]=e?.utbetalinger,t[1]=l):l=t[1];const r=l,a=r.length===1?"utbetaling":"utbetalinger";let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(S,{visuallyHidden:!0,children:"funnet"}),t[2]=n):n=t[2];let i;return t[3]!==a||t[4]!==r.length?(i=s.jsxs(s.Fragment,{children:["Filter (",r.length," ",a,")",n]}),t[3]=a,t[4]=r.length,t[5]=i):i=t[5],i},St=()=>{const t=N.c(20),e=Ke(R),[l,r]=F.useState(!1),a=Ve(),n=F.useRef(null);let i;t[0]!==e?(i=()=>{e(Je)},t[0]=e,t[1]=i):i=t[1];let o;t[2]!==a?(o=[a],t[2]=a,t[3]=o):o=t[3],F.useEffect(i,o);let g;t[4]!==l?(g=()=>{setTimeout(()=>{if(!n.current)return;const _=n.current.classList.contains("aksel-expansioncard--open");r(_),_!==l&&(_?Xe("utbetalingfilter"):Ze("utbetalingfilter"))},0)},t[4]=l,t[5]=g):g=t[5];const d=g,m=l&&"max-h-full";let f;t[6]!==m?(f=se(m),t[6]=m,t[7]=f):f=t[7];const h=l&&"max-h-full overflow-auto";let c;t[8]!==h?(c=se("rounded-sm",h),t[8]=h,t[9]=c):c=t[9];let b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(X.Header,{className:"py-0 pr-0 hover:rounded-sm",children:s.jsx(X.Title,{size:"small",as:"h3",className:"text-ax-medium",role:"alert",children:s.jsx(kt,{})})}),t[10]=b):b=t[10];let x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Z.New,{maxWidth:"17rem",children:s.jsx(jt,{})}),t[11]=x):x=t[11];let p;t[12]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Z.New,{maxWidth:"17rem",children:s.jsx(yt,{})}),t[12]=p):p=t[12];let j;t[13]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(X.Content,{className:"overflow-visible",children:s.jsxs(w,{gap:"2",children:[x,p,s.jsx(Z.New,{children:s.jsx(xt,{})})]})}),t[13]=j):j=t[13];let y;t[14]!==d||t[15]!==c?(y=s.jsxs(X,{onClick:d,ref:n,className:c,size:"small","aria-label":"Filtrer utbetalinger",children:[b,j]}),t[14]=d,t[15]=c,t[16]=y):y=t[16];let k;return t[17]!==y||t[18]!==f?(k=s.jsx(Z.New,{className:f,children:y}),t[17]=y,t[18]=f,t[19]=k):k=t[19],k};function wt(t){return t.type||"Mangler beskrivelse"}function _t(t,e,l){return l.indexOf(t)===e}function vt(t){const e=wt,l=_t;return Ye(t).map(e).filter(l).sort(ye)}const Tt=t=>`${ut(t)} ${E(t.periode?.slutt).year()}`,Ct=t=>{const e=t.filter(ft);return Ye(e)},Ut=t=>t.flatMap(e=>e.ytelseskomponentListe??[]),Dt=t=>{const e=Ut(t),r=ve(e,a=>a.ytelseskomponenttype).map(a=>{const n=a.array.reduce((i,o)=>i+o.ytelseskomponentbelop,0);return s.jsxs(K,{wrap:!1,gap:"4",justify:"start",children:[s.jsx(he,{spacing:!0,children:a.category}),s.jsx(he,{spacing:!0,children:P(n)})]},a.category)});return s.jsx("dl",{children:r})},Yt=t=>{const e=t.ytelseskomponentListe.map(n=>({type:n.ytelseskomponenttype,sats:n.satsbelop?P(n.satsbelop):"-",antall:`${n.satsantall}`,belop:P(n.ytelseskomponentbelop)})),l=t.skattListe.map(n=>({type:"Skattetrekk",sats:"-",antall:"-",belop:P(n.skattebelop)})),r=t.trekkListe.map(n=>({type:n.trekktype,sats:"-",antall:"-",belop:P(n.trekkbelop)})),a=e.concat(l,r);return s.jsxs(w,{align:"end",className:"p-2 border border-border-subtle rounded-md",children:[a.length>0&&s.jsxs(u,{size:"small",zebraStripes:!0,children:[s.jsx(u.Header,{children:s.jsxs(u.Row,{children:[s.jsx(u.DataCell,{scope:"col"}),s.jsx(u.HeaderCell,{scope:"col",className:"w-28",children:"Sats"}),s.jsx(u.HeaderCell,{scope:"col",className:"w-28",children:"Antall"}),s.jsx(u.HeaderCell,{scope:"col",className:"w-24",children:"Beløp"})]})}),s.jsx(u.Body,{children:a.map((n,i)=>s.jsxs(u.Row,{children:[s.jsx(u.DataCell,{children:n.type}),s.jsx(u.DataCell,{children:n.sats}),s.jsx(u.DataCell,{children:n.antall}),s.jsx(u.DataCell,{children:n.belop})]},i+n.type))})]}),s.jsxs(K,{justify:"space-between",gap:"3",className:"my-4 mr-6",children:[s.jsx(S,{size:"small",weight:"semibold",children:"Nettobeløp:"}),s.jsx(S,{size:"small",weight:"semibold",children:P(t.nettobelop)})]})]})},zt=t=>{const e=N.c(21),{ytelser:l,expandTable:r}=t;let a,n,i,o,g,d;if(e[0]!==r||e[1]!==l){const h=ve(l,Tt);n=u,o="small",e[8]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("caption",{className:"font-bold text-left ",children:"Sammendrag"}),e[8]=g):g=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(u.Header,{children:s.jsxs(u.Row,{children:[s.jsx(u.DataCell,{}),s.jsx(u.DataCell,{}),s.jsx(u.HeaderCell,{className:"w-56",children:"Periode"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Brutto"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Trekk"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Utbetalt"})]})}),e[9]=d):d=e[9],a=u.Body;let c;e[10]!==r?(c=(b,x)=>{const p=b.array,j=b.category,y=gt(p),k=Dt(p);return s.jsxs(u.ExpandableRow,{content:k,defaultOpen:r,children:[s.jsx(u.HeaderCell,{scope:"row",children:j}),s.jsxs(u.DataCell,{children:[ee(y.start)," - ",ee(y.slutt)]}),s.jsx(u.DataCell,{children:P(ue(p))}),s.jsx(u.DataCell,{children:P(ge(p))}),s.jsx(u.DataCell,{children:P(fe(p))})]},x+b.category)},e[10]=r,e[11]=c):c=e[11],i=h.sort(Ht).map(c),e[0]=r,e[1]=l,e[2]=a,e[3]=n,e[4]=i,e[5]=o,e[6]=g,e[7]=d}else a=e[2],n=e[3],i=e[4],o=e[5],g=e[6],d=e[7];let m;e[12]!==a||e[13]!==i?(m=s.jsx(a,{children:i}),e[12]=a,e[13]=i,e[14]=m):m=e[14];let f;return e[15]!==n||e[16]!==o||e[17]!==g||e[18]!==d||e[19]!==m?(f=s.jsxs(n,{size:o,children:[g,d,m]}),e[15]=n,e[16]=o,e[17]=g,e[18]=d,e[19]=m,e[20]=f):f=e[20],f},Nt=t=>{const e=N.c(5),{ytelser:l}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(u.Header,{children:s.jsxs(u.Row,{children:[s.jsx(u.DataCell,{}),s.jsx(u.DataCell,{}),s.jsx(u.HeaderCell,{className:"w-56",children:"Periode"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Brutto"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Trekk"}),s.jsx(u.HeaderCell,{className:"w-28",children:"Netto"})]})}),e[0]=r):r=e[0];let a;e[1]!==l?(a=l.map(At),e[1]=l,e[2]=a):a=e[2];let n;return e[3]!==a?(n=s.jsxs(u,{size:"small",title:"Ytelser",children:[r,s.jsx(u.Body,{children:a})]}),e[3]=a,e[4]=n):n=e[4],n},$e=t=>{const e=N.c(13),{brutto:l,trekk:r,netto:a}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(S,{size:"small",weight:"semibold",children:"Brutto:"}),e[0]=n):n=e[0];let i;e[1]!==l?(i=s.jsxs(w,{justify:"space-between",children:[n,s.jsx(S,{size:"small",children:l})]}),e[1]=l,e[2]=i):i=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(S,{size:"small",weight:"semibold",children:"Trekk:"}),e[3]=o):o=e[3];let g;e[4]!==r?(g=s.jsxs(w,{justify:"space-between",children:[o,s.jsx(S,{size:"small",children:r})]}),e[4]=r,e[5]=g):g=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(S,{size:"small",weight:"semibold",children:"Utbetalt:"}),e[6]=d):d=e[6];let m;e[7]!==a?(m=s.jsxs(w,{justify:"space-between",children:[d,s.jsx(S,{size:"small",children:a})]}),e[7]=a,e[8]=m):m=e[8];let f;return e[9]!==i||e[10]!==g||e[11]!==m?(f=s.jsxs(me,{gap:"4",columns:4,marginBlock:"4",paddingBlock:"4",className:"border-t border-border-subtle",children:[i,g,m]}),e[9]=i,e[10]=g,e[11]=m,e[12]=f):f=e[12],f},Pt=t=>{const e=N.c(63),{utbetaling:l}=t,r=_e();let a;e[0]!==l?(a=I([l],ue,!1),e[0]=l,e[1]=a):a=e[1];const n=a;let i;e[2]!==l?(i=I([l],ge,!0),e[2]=l,e[3]=i):i=e[3];const o=i;let g;e[4]!==l?(g=I([l],fe,!0),e[4]=l,e[5]=g):g=e[5];const d=g,m=l.ytelser;let f;e[6]!==r?(f=()=>{et("UtskriftTotaltUtbetalt","usePrinter"),r.triggerPrint()},e[6]=r,e[7]=f):f=e[7];const h=f,c=r.printerWrapper;let b;e[8]!==l.ytelser?(b=l.ytelser?.map(Lt)?.unique().join(", "),e[8]=l.ytelser,e[9]=b):b=e[9];let x;e[10]!==b?(x=s.jsx(ce,{as:"h4",size:"small",children:b}),e[10]=b,e[11]=x):x=e[11];let p;e[12]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(De,{"aria-hidden":!0}),e[12]=p):p=e[12];let j;e[13]!==h?(j=s.jsx(Te,{size:"small",variant:"tertiary",iconPosition:"right",icon:p,onClick:h,children:"Skriv ut"}),e[13]=h,e[14]=j):j=e[14];let y;e[15]!==x||e[16]!==j?(y=s.jsxs(K,{justify:"space-between",children:[x,j]}),e[15]=x,e[16]=j,e[17]=y):y=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(S,{size:"small",weight:"semibold",children:"Forfallsdato:"}),e[18]=k):k=e[18];let _;e[19]!==l.forfallsdato?(_=l.forfallsdato?re(l.forfallsdato):"",e[19]=l.forfallsdato,e[20]=_):_=e[20];let v;e[21]!==_?(v=s.jsxs(w,{justify:"space-between",children:[k,s.jsx(S,{size:"small",children:_})]}),e[21]=_,e[22]=v):v=e[22];let U;e[23]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(S,{size:"small",weight:"semibold",children:"Utbetalingsdato:"}),e[23]=U):U=e[23];let T;e[24]!==l.utbetalingsdato?(T=l.utbetalingsdato?re(l.utbetalingsdato):"",e[24]=l.utbetalingsdato,e[25]=T):T=e[25];let C;e[26]!==T?(C=s.jsxs(w,{justify:"space-between",children:[U,s.jsx(S,{size:"small",children:T})]}),e[26]=T,e[27]=C):C=e[27];let D;e[28]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(S,{size:"small",weight:"semibold",children:"Utbetalt til:"}),e[28]=D):D=e[28];let Y;e[29]!==l.utbetaltTil?(Y=s.jsxs(w,{justify:"space-between",children:[D,s.jsx(S,{size:"small",children:l.utbetaltTil})]}),e[29]=l.utbetaltTil,e[30]=Y):Y=e[30];let z;e[31]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(S,{size:"small",weight:"semibold",children:"Kontonummer:"}),e[31]=z):z=e[31];let $;e[32]!==l.konto?($=s.jsxs(w,{justify:"space-between",children:[z,s.jsx(S,{size:"small",children:l.konto})]}),e[32]=l.konto,e[33]=$):$=e[33];let W;e[34]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(S,{size:"small",weight:"semibold",children:"Utbetalingsmetode:"}),e[34]=W):W=e[34];let H;e[35]!==l.metode?(H=s.jsxs(w,{justify:"space-between",children:[W,s.jsx(S,{size:"small",children:l.metode})]}),e[35]=l.metode,e[36]=H):H=e[36];let G;e[37]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(S,{size:"small",weight:"semibold",children:"Utbetalingsstatus:"}),e[37]=G):G=e[37];let A;e[38]!==l.status?(A=s.jsxs(w,{justify:"space-between",children:[G,s.jsx(S,{size:"small",children:l.status})]}),e[38]=l.status,e[39]=A):A=e[39];let q;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(S,{size:"small",weight:"semibold",children:"Melding:"}),e[40]=q):q=e[40];let L;e[41]!==l.melding?(L=s.jsxs(w,{justify:"space-between",children:[q,s.jsx(S,{size:"small",children:l.melding})]}),e[41]=l.melding,e[42]=L):L=e[42];let M;e[43]!==v||e[44]!==C||e[45]!==Y||e[46]!==$||e[47]!==H||e[48]!==A||e[49]!==L?(M=s.jsxs(me,{gap:"4",columns:2,className:"mt-4",children:[v,C,Y,$,H,A,L]}),e[43]=v,e[44]=C,e[45]=Y,e[46]=$,e[47]=H,e[48]=A,e[49]=L,e[50]=M):M=e[50];let O;e[51]!==n||e[52]!==d||e[53]!==o?(O=s.jsx($e,{brutto:n,trekk:o,netto:d}),e[51]=n,e[52]=d,e[53]=o,e[54]=O):O=e[54];let B;e[55]!==m?(B=m?.length>0&&s.jsx("div",{className:"my-8",children:s.jsx(Nt,{ytelser:m})}),e[55]=m,e[56]=B):B=e[56];let J;return e[57]!==c||e[58]!==M||e[59]!==O||e[60]!==B||e[61]!==y?(J=s.jsx(de,{padding:"4",children:s.jsxs(c,{children:[y,M,O,B]})}),e[57]=c,e[58]=M,e[59]=O,e[60]=B,e[61]=y,e[62]=J):J=e[62],J},Rt=t=>{const e=N.c(34),{utbetalinger:l,periode:r}=t,a=_e(),n=r.from.format("YYYY-MM-DD"),i=r.to.format("YYYY-MM-DD"),o=`${n} - ${i}`;let g;e[0]!==l?(g=I(l,ue,!1),e[0]=l,e[1]=g):g=e[1];const d=g;let m;e[2]!==l?(m=I(l,ge,!0),e[2]=l,e[3]=m):m=e[3];const f=m;let h;e[4]!==l?(h=I(l,fe,!0),e[4]=l,e[5]=h):h=e[5];const c=h;let b;e[6]!==l?(b=Ct(l),e[6]=l,e[7]=b):b=e[7];const x=b;let p;e[8]!==a?(p=()=>{a.triggerPrint()},e[8]=a,e[9]=p):p=e[9];const j=p,y=a.printerWrapper;let k;e[10]!==o?(k=s.jsxs(ce,{as:"h3",size:"xsmall",children:["Totalt utbetalt (",o,")"]}),e[10]=o,e[11]=k):k=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(De,{"aria-hidden":!0}),e[12]=_):_=e[12];let v;e[13]!==j?(v=s.jsx(Te,{size:"small",variant:"tertiary",iconPosition:"right",icon:_,onClick:j,children:"Skriv ut"}),e[13]=j,e[14]=v):v=e[14];let U;e[15]!==k||e[16]!==v?(U=s.jsxs(K,{justify:"space-between",children:[k,v]}),e[15]=k,e[16]=v,e[17]=U):U=e[17];let T;e[18]!==l.length?(T=s.jsxs(S,{size:"small",children:["Det finnes ",l.length," utbetalinger for valgt periode og filtrering"]}),e[18]=l.length,e[19]=T):T=e[19];let C;e[20]!==d||e[21]!==c||e[22]!==f?(C=s.jsx($e,{brutto:d,trekk:f,netto:c}),e[20]=d,e[21]=c,e[22]=f,e[23]=C):C=e[23];let D;e[24]!==x?(D=x?.length>0&&s.jsx(zt,{ytelser:x,expandTable:!0}),e[24]=x,e[25]=D):D=e[25];let Y;e[26]!==D?(Y=s.jsx(w,{gap:"2",className:"mt-4",children:D}),e[26]=D,e[27]=Y):Y=e[27];let z;return e[28]!==y||e[29]!==T||e[30]!==C||e[31]!==Y||e[32]!==U?(z=s.jsx(de,{padding:"4",children:s.jsxs(y,{children:[U,T,C,Y]})}),e[28]=y,e[29]=T,e[30]=C,e[31]=Y,e[32]=U,e[33]=z):z=e[33],z},be=we("/new/person/utbetaling"),Et=t=>{const e=N.c(14),{utbetalinger:l}=t,{id:r}=be.useSearch();let a;if(e[0]!==r||e[1]!==l){let c;e[3]!==r?(c=b=>te(b)===r,e[3]=r,e[4]=c):c=e[4],a=l.find(c),e[0]=r,e[1]=l,e[2]=a}else a=e[2];const n=a,i=ne(R),o=F.useRef(R),g=be.useNavigate();let d,m;if(e[5]!==i||e[6]!==n||e[7]!==l?(d=()=>{const c=JSON.stringify(o.current.init)!==JSON.stringify(i),b=!n||!l.includes(n);c&&b&&Qe().clear()},m=[n,l,i],e[5]=i,e[6]=n,e[7]=l,e[8]=d,e[9]=m):(d=e[8],m=e[9]),F.useEffect(d,m),l.length===0){let c;return e[10]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(s.Fragment,{}),e[10]=c):c=e[10],c}if(!n&&r){let c;return e[11]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(w,{flexGrow:"1",minHeight:"0",children:s.jsx(Ce,{variant:"error",children:"Utbetalingen du valgte, ble ikke funnet."})}),e[11]=c):c=e[11],c}!r&&!n&&g({search:{id:te(l[0])}});const f=n??l[0];let h;return e[12]!==f?(h=s.jsx(Pt,{utbetaling:f}),e[12]=f,e[13]=h):h=e[13],h},Ft=t=>{const e=N.c(8),{utbetalinger:l}=t,r=ne(Fe);let a;e[0]!==r||e[1]!==l?(a=s.jsx(Rt,{utbetalinger:l,periode:r}),e[0]=r,e[1]=l,e[2]=a):a=e[2];let n;e[3]!==l?(n=s.jsx(Et,{utbetalinger:l}),e[3]=l,e[4]=n):n=e[4];let i;return e[5]!==a||e[6]!==n?(i=s.jsxs(w,{flexGrow:"1",minHeight:"0",gap:"1",maxHeight:"100%",overflow:"auto",children:[a,n]}),e[5]=a,e[6]=n,e[7]=i):i=e[7],i},$t=()=>{const{data:t,isLoading:e,isError:l}=V(),r=t?.utbetalinger??[];if(!l)return s.jsx(oe,{boundaryName:"utbetalingerDetailPage",errorText:"Det oppstod en feil under visning av utbetalinger detailjer",children:e?s.jsx(Ue,{variant:"rectangle",height:"4rem"}):s.jsx(Ft,{utbetalinger:r})})};function Ht(t,e){return ye(t.category,e.category)}function At(t,e){const l=t.type??"",r=t.periode?`${ee(t.periode?.start)} - ${ee(t.periode?.slutt)}`:"";return s.jsxs(u.ExpandableRow,{content:Yt(t),defaultOpen:!0,children:[s.jsx(u.HeaderCell,{scope:"row",children:l}),s.jsx(u.DataCell,{children:r}),s.jsx(u.DataCell,{children:P(t.ytelseskomponentersum)}),s.jsx(u.DataCell,{children:P(t.skattsum+t.trekksum)}),s.jsx(u.DataCell,{children:P(t.nettobelop)})]},e+l)}function Lt(t){return t.type}const pe=we("/new/person/utbetaling"),Mt=t=>{const e=N.c(42),{utbetaling:l}=t,r=pe.useSearch().id,a=pe.useNavigate();let n;e[0]!==l?(n=te(l),e[0]=l,e[1]=n):n=e[1];const i=n,o=F.useRef(null);let g,d;e[2]!==r||e[3]!==i?(g=()=>{r===i&&o.current?.focus()},d=[r,i],e[2]=r,e[3]=i,e[4]=g,e[5]=d):(g=e[4],d=e[5]),F.useEffect(g,d);let m;e[6]!==i||e[7]!==a?(m=()=>{a({search:{id:i},state:{umamiEvent:{name:tt.detaljvisningKlikket,data:{fane:"utbetaling",tekst:"åpne utbetaling"}}}})},e[6]=i,e[7]=a,e[8]=m):m=e[8];const f=m;let h;e[9]!==f?(h=z=>{z.preventDefault(),f()},e[9]=f,e[10]=h):h=e[10];let c;e[11]!==f?(c=z=>{z.key!=="Enter"&&z.key!==" "&&z.key!=="Spacebar"||(z.preventDefault(),f())},e[11]=f,e[12]=c):c=e[12];const b=r===i&&"bg-ax-bg-accent-moderate-pressed border-ax-bg-accent-moderate-pressed";let x;e[13]!==b?(x=se("cursor-pointer hover:bg-[var(--ax-bg-accent-moderate-hover)] group",b),e[13]=b,e[14]=x):x=e[14];let p;e[15]!==l.ytelser?(p=l.ytelser?.map(Ot)?.unique().join(", "),e[15]=l.ytelser,e[16]=p):p=e[16];let j;e[17]!==p?(j=s.jsx(lt,{size:"small",as:"h3",children:p}),e[17]=p,e[18]=j):j=e[18];let y;e[19]!==l.nettobelop?(y=P(l.nettobelop),e[19]=l.nettobelop,e[20]=y):y=e[20];let k;e[21]!==y?(k=s.jsx(Q,{weight:"semibold",title:"Kroner utbetalt",children:y}),e[21]=y,e[22]=k):k=e[22];let _;e[23]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(Q,{children:"Forfallsdato:"}),e[23]=_):_=e[23];let v;e[24]!==l.forfallsdato?(v=l.forfallsdato?re(l.forfallsdato):"",e[24]=l.forfallsdato,e[25]=v):v=e[25];let U;e[26]!==v?(U=s.jsxs(K,{gap:"1",children:[_,s.jsx(Q,{children:v})]}),e[26]=v,e[27]=U):U=e[27];let T;e[28]!==l.status?(T=s.jsx(Q,{textColor:"subtle",children:l.status}),e[28]=l.status,e[29]=T):T=e[29];let C;e[30]!==j||e[31]!==k||e[32]!==U||e[33]!==T?(C=s.jsxs(w,{justify:"center",children:[j,k,U,T]}),e[30]=j,e[31]=k,e[32]=U,e[33]=T,e[34]=C):C=e[34];let D;e[35]!==C||e[36]!==x?(D=s.jsx(de,{padding:"2",as:"li",className:x,children:C}),e[35]=C,e[36]=x,e[37]=D):D=e[37];let Y;return e[38]!==D||e[39]!==h||e[40]!==c?(Y=s.jsx(st,{ref:o,variant:"neutral",className:"hover:no-underline block",underline:!1,onClick:h,tabIndex:0,role:"link",onKeyDown:c,children:D}),e[38]=D,e[39]=h,e[40]=c,e[41]=Y):Y=e[41],Y};function Ot(t){return t.type}const Bt=()=>s.jsx(oe,{boundaryName:"UtbetalingerList",errorText:"Det oppstod en feil under visning av utbetalinger liste",children:s.jsxs(w,{height:"100%",gap:"1",children:[s.jsx(St,{}),s.jsx(It,{})]})}),It=()=>{const{data:t,isLoading:e,isError:l}=V(),r=t?.utbetalinger??[],a=rt(102),n=nt({from:"/new/person/utbetaling",select:i=>i.id});if(!l)return!e&&r.length===0?s.jsx(Ce,{variant:"info",role:"alert",children:"Ingen utbetalinger funnet"}):s.jsx(s.Fragment,{children:e?s.jsx(w,{gap:"2",marginInline:"0 2",children:Array(8).keys().map(i=>s.jsx(Ue,{variant:"rectangle",height:68},i))}):s.jsx(ct,{paginationSrHeading:{tag:"h3",text:"Utbetalingpaginering"},as:"section","aria-label":"utbetalinger",pageSize:a,selectedKey:n,items:r,keyExtractor:te,renderItem:({item:i})=>s.jsx(Mt,{utbetaling:i})})})},Kt=()=>{const t=N.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx(oe,{boundaryName:"UtbetalingPage",errorText:"Det oppstod en feil under lasting av utbetalinger.",children:s.jsx(Vt,{})}),t[0]=e):e=t[0],e},Vt=()=>{const t=N.c(8),{errorMessages:e}=V();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={xs:1,md:"max-content 1fr"},t[0]=l):l=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r={xs:"auto",md:"hidden"},t[1]=r):r=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(w,{height:"100%",maxWidth:{md:"16em"},overflow:{md:"hidden"},children:[s.jsx(ce,{size:"small",visuallyHidden:!0,level:"2",children:"Utbetalinger"}),s.jsx(Bt,{})]}),t[2]=a):a=t[2];let n;t[3]!==e?(n=s.jsx(it,{alerts:e}),t[3]=e,t[4]=n):n=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx($t,{}),t[5]=i):i=t[5];let o;return t[6]!==n?(o=s.jsxs(me,{gap:"1",columns:l,height:"100%",overflow:r,children:[a,s.jsxs(w,{className:"min-h-100 md:min-h-0",children:[n,i]})]}),t[6]=n,t[7]=o):o=t[7],o},Qt=at("/new/person/utbetaling")({component:Kt});export{Qt as Route};
//# sourceMappingURL=utbetaling.lazy-BhB3pAQt.js.map
