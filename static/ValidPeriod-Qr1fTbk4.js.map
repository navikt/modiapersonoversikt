{"version":3,"file":"ValidPeriod-Qr1fTbk4.js","sources":["../../src/components/PersonLinje/utils.ts","../../src/components/PersonLinje/common/ValidPeriod.tsx"],"sourcesContent":["import {\n    type AdresseBeskyttelse,\n    AdresseBeskyttelseKode,\n    ForelderBarnRelasjonRolle,\n    type Navn,\n    type PersonData,\n    type PersonDataFeilendeSystemer,\n    type RelasjonPerson,\n    SivilstandType\n} from 'src/lib/types/modiapersonoversikt-api';\nimport { ENDASH, formaterDato } from 'src/utils/string-utils';\n\ntype ForelderBarnRelasjon = PersonData['forelderBarnRelasjon'][0];\ntype Sivilstand = PersonData['sivilstand'][0];\n\nexport function erDod(dodsdato: Array<string>) {\n    return dodsdato.isNotEmpty();\n}\n\nexport function hentBarnUnder22(forelderBarnRelasjon: ForelderBarnRelasjon[]) {\n    return hentBarn(forelderBarnRelasjon).filter((barn) => hentAlderOrDefault(barn) <= 21);\n}\n\nfunction hentBarn(forelderBarnRelasjon: ForelderBarnRelasjon[]) {\n    return forelderBarnRelasjon.filter((relasjon) => relasjon.rolle === ForelderBarnRelasjonRolle.BARN);\n}\n\nfunction hentAlderOrDefault(relasjon: ForelderBarnRelasjon) {\n    return relasjon.alder ? relasjon.alder : 0;\n}\n\nexport function hentForeldre(relasjoner: ForelderBarnRelasjon[]) {\n    return relasjoner.filter(\n        (relasjon) =>\n            relasjon.rolle === ForelderBarnRelasjonRolle.FAR ||\n            relasjon.rolle === ForelderBarnRelasjonRolle.MOR ||\n            relasjon.rolle === ForelderBarnRelasjonRolle.MEDMOR\n    );\n}\n\nexport function harDiskresjonskode(adressebeskyttelse: AdresseBeskyttelse[]) {\n    return adressebeskyttelse.some(\n        (beskyttelse) =>\n            beskyttelse.kode === AdresseBeskyttelseKode.KODE6 ||\n            beskyttelse.kode === AdresseBeskyttelseKode.KODE6_UTLAND ||\n            beskyttelse.kode === AdresseBeskyttelseKode.KODE7\n    );\n}\n\nexport function erPartner(sivilstand: Sivilstand): boolean {\n    const aktuelleRelasjoner = [SivilstandType.GIFT.valueOf(), SivilstandType.REGISTRERT_PARTNER.valueOf()];\n    return sivilstand?.type && aktuelleRelasjoner.includes(sivilstand?.type.kode);\n}\n\nexport function hentNavn(navn?: Navn, feilmelding = 'Ukjent navn'): string {\n    if (!navn) {\n        return feilmelding;\n    }\n    return navn.fornavn + (navn.mellomnavn ? ` ${navn.mellomnavn} ` : ' ') + navn.etternavn;\n}\n\nexport function hentAlderEllerDod(person: RelasjonPerson): string | undefined {\n    if (erDod(person.dodsdato)) {\n        return 'DÃ¸d';\n    }\n    return person.alder?.toString();\n}\n\nexport function hentPeriodeTekst(gyldighetstidspunkt?: string | null, opphorstidspunkt?: string | null) {\n    const fom = gyldighetstidspunkt ? formaterDato(gyldighetstidspunkt) : '';\n    const tom = opphorstidspunkt ? formaterDato(opphorstidspunkt) : '';\n\n    return `${fom} ${ENDASH} ${tom}`;\n}\n\nconst ugyldig_gt_map = {\n    '0301': 'Oslo',\n    '4601': 'Bergen',\n    '5001': 'Trondheim',\n    '1103': 'Stavanger'\n};\nexport function mapUgyldigGT(gt: string): string {\n    return ugyldig_gt_map[gt as keyof typeof ugyldig_gt_map] ?? 'Ukjent';\n}\n\nexport function harFeilendeSystemer(\n    feilendeSystemer: PersonDataFeilendeSystemer[],\n    system: PersonDataFeilendeSystemer\n): boolean {\n    return feilendeSystemer.includes(system);\n}\n","import { Detail } from '@navikt/ds-react';\nimport { hentPeriodeTekst } from '../utils';\n\ntype Props = {\n    from?: string;\n    to?: string;\n};\n\nfunction ValidPeriod({ from, to }: Props) {\n    if (!from && !to) {\n        return null;\n    }\n\n    return <Detail textColor=\"subtle\">Gyldig: {hentPeriodeTekst(from, to)}</Detail>;\n}\n\nexport default ValidPeriod;\n"],"names":["erDod","dodsdato","isNotEmpty","hentBarnUnder22","forelderBarnRelasjon","hentBarn","filter","hentAlderOrDefault","barn","relasjon","rolle","ForelderBarnRelasjonRolle","BARN","alder","hentForeldre","relasjoner","FAR","MOR","MEDMOR","harDiskresjonskode","adressebeskyttelse","some","beskyttelse","kode","AdresseBeskyttelseKode","KODE6","KODE6_UTLAND","KODE7","erPartner","sivilstand","aktuelleRelasjoner","SivilstandType","GIFT","valueOf","REGISTRERT_PARTNER","type","includes","hentNavn","navn","feilmelding","fornavn","mellomnavn","etternavn","hentAlderEllerDod","person","toString","hentPeriodeTekst","gyldighetstidspunkt","opphorstidspunkt","fom","formaterDato","tom","ENDASH","ugyldig_gt_map","mapUgyldigGT","gt","harFeilendeSystemer","feilendeSystemer","system","ValidPeriod","t0","$","_c","from","to","t1","t2","jsxs","Detail"],"mappings":"+IAeO,SAASA,EAAMC,EAAyB,CAC3C,OAAOA,EAASC,WAAAA,CACpB,CAEO,SAASC,EAAgBC,EAA8C,CAC1E,OAAOC,EAASD,CAAoB,EAAEE,UAAiBC,EAAmBC,CAAI,GAAK,EAAE,CACzF,CAEA,SAASH,EAASD,EAA8C,CAC5D,OAAOA,EAAqBE,OAAQG,GAAaA,EAASC,QAAUC,EAA0BC,IAAI,CACtG,CAEA,SAASL,EAAmBE,EAAgC,CACxD,OAAOA,EAASI,MAAQJ,EAASI,MAAQ,CAC7C,CAEO,SAASC,EAAaC,EAAoC,CAC7D,OAAOA,EAAWT,OACbG,GACGA,EAASC,QAAUC,EAA0BK,KAC7CP,EAASC,QAAUC,EAA0BM,KAC7CR,EAASC,QAAUC,EAA0BO,MACrD,CACJ,CAEO,SAASC,EAAmBC,EAA0C,CACzE,OAAOA,EAAmBC,KACrBC,GACGA,EAAYC,OAASC,EAAuBC,OAC5CH,EAAYC,OAASC,EAAuBE,cAC5CJ,EAAYC,OAASC,EAAuBG,KACpD,CACJ,CAEO,SAASC,EAAUC,EAAiC,CACvD,MAAMC,EAAqB,CAACC,EAAeC,KAAKC,UAAWF,EAAeG,mBAAmBD,SAAS,EACtG,OAAOJ,GAAYM,MAAQL,EAAmBM,SAASP,GAAYM,KAAKZ,IAAI,CAChF,CAEO,SAASc,EAASC,EAAaC,EAAc,cAAuB,CACvE,OAAKD,EAGEA,EAAKE,SAAWF,EAAKG,WAAa,IAAIH,EAAKG,UAAU,IAAM,KAAOH,EAAKI,UAFnEH,CAGf,CAEO,SAASI,EAAkBC,EAA4C,CAC1E,OAAI5C,EAAM4C,EAAO3C,QAAQ,EACd,MAEJ2C,EAAO/B,OAAOgC,SAAAA,CACzB,CAEO,SAASC,EAAiBC,EAAqCC,EAAkC,CACpG,MAAMC,EAAMF,EAAsBG,EAAaH,CAAmB,EAAI,GAChEI,EAAMH,EAAmBE,EAAaF,CAAgB,EAAI,GAEhE,MAAO,GAAGC,CAAG,IAAIG,CAAM,IAAID,CAAG,EAClC,CAEA,MAAME,EAAiB,CACnB,OAAQ,OACR,KAAQ,SACR,KAAQ,YACR,KAAQ,WACZ,EACO,SAASC,EAAaC,EAAoB,CAC7C,OAAOF,EAAeE,CAAiC,GAAK,QAChE,CAEO,SAASC,EACZC,EACAC,EACO,CACP,OAAOD,EAAiBrB,SAASsB,CAAM,CAC3C,CClFA,SAAAC,EAAAC,EAAA,CAAA,MAAAC,EAAAC,EAAAA,EAAA,CAAA,EAAqB,CAAAC,KAAAA,EAAAC,GAAAA,CAAAA,EAAAJ,EAAmB,GAChC,CAACG,GAAI,CAAKC,EAAE,OAAA,KAAA,IAAAC,EAAAJ,EAAA,CAAA,IAAAE,GAAAF,OAAAG,GAI2BC,EAAAnB,EAAiBiB,EAAMC,CAAE,EAACH,KAAAE,EAAAF,KAAAG,EAAAH,KAAAI,GAAAA,EAAAJ,EAAA,CAAA,EAAA,IAAAK,EAAA,OAAAL,OAAAI,GAA9DC,EAAAC,EAAAA,KAACC,EAAA,CAAiB,UAAA,SAAS,SAAA,CAAA,WAASH,CAAAA,EAA2B,EAASJ,KAAAI,EAAAJ,KAAAK,GAAAA,EAAAL,EAAA,CAAA,EAAxEK,CAAwE"}